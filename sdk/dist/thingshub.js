!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("axios"),require("socket.io-client")):"function"==typeof define&&define.amd?define(["axios","socket.io-client"],t):"object"==typeof exports?exports.thingshub=t(require("axios"),require("socket.io-client")):e.thingshub=t(e.axios,e.io)}(window,function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(47);e.exports=Function.prototype.bind||n},function(e,t,r){"use strict";var n=Function.prototype.toString,o=/^\s*class /,i=function(e){try{var t=n.call(e).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(t)}catch(e){return!1}},s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(a)return function(e){try{return!i(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(i(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,r){var n=r(1);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.")}},function(e,t,r){"use strict";var n=r(25);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],s=Object.keys(i),a=0;a<s.length;++a){var c=s[a],l=i[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:i,prop:c}),r.push(l))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],o=0;o<t.length;++o)void 0!==t[o]&&n.push(t[o]);r.obj[r.prop]=n}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=t.charAt(n):i<128?r+=o[i]:i<2048?r+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?r+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),r+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var s=t;return Array.isArray(t)&&!Array.isArray(r)&&(s=i(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){n.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],r,o):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,i){var s=r[i];return n.call(t,i)?t[i]=e(t[i],s,o):t[i]=s,t},s)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.HttpRequestCanceler=class{constructor(){this.cancelerToken=null,this.executor=null}setup(){null===this.cancelerToken&&(this.cancelerToken=new n.default.CancelToken(e=>{this.executor=e}))}reset(){this.executor=null,this.cancelerToken=null}cancel(){this.executor&&this.executor(),this.reset()}};t.Helpers=class{static getRangeItemsFromResponse(e){var t=e.headers["content-range"],r=0,n=0,o=0;if(t){var i=t.split("/");if(0!=i.length){var s=i[0].split(" ");if(2==s.length){var a=s[1].split("-");2==a.length&&(r=parseInt(a[0]),n=parseInt(a[1]))}2==i.length&&(o=parseInt(i[1]))}}return{top:r,skip:n,totalItems:o}}}},function(e,t,r){"use strict";const n={NoMatter:0,Ok:1,Deleted:2};t.ThingDeletedStates=n,t.validateThingDeletedStatus=function(e){switch(e){case n.NoMatter:case n.Ok:case n.Deleted:return!0}return!1};const o={NoMatter:0,Administrator:1,User:2};t.ThingUserRoles=o,t.validateThingUserRoles=function(e){switch(e){case o.NoMatter:case o.Administrator:case o.User:return!0}return!1};const i={NoMatter:0,Ok:1,WaitForAuth:2,Deleted:4};t.ThingUserStates=i,t.validateThingUserStatus=function(e){switch(e){case i.NoMatter:case i.Ok:case i.WaitForAuth:case i.Deleted:return!0}return!1};const s={NoMatter:0,Visible:1,Hidden:2};t.ThingUserVisibility=s,t.validateThingUserVisibility=function(e){switch(e){case s.NoMatter:case s.Visible:case s.Hidden:return!0}return!1};const a={NoClaims:0,CanReadCreationDate:2,CanReadName:4,CanReadDescription:8,CanReadKind:16,CanReadValue:32,CanReadDeletedStatus:64,CanReadPublicReadClaims:2048,CanReadPublicChangeClaims:4096,CanReadEveryoneReadClaims:8192,CanReadEveryoneChangeClaims:16384,CanReadThingUserRights:128,CanReadThingUserRole:256,CanReadThingUserStatus:512,CanReadThingUserVisibility:32768,CanReadThingUserReadClaims:1024,CanReadThingUserChangeClaims:1};a.AllClaims=a.CanReadThingUserChangeClaims|a.CanReadCreationDate|a.CanReadName|a.CanReadDescription|a.CanReadKind|a.CanReadValue|a.CanReadDeletedStatus|a.CanReadThingUserRights|a.CanReadThingUserRole|a.CanReadThingUserVisibility|a.CanReadThingUserStatus|a.CanReadThingUserReadClaims|a.CanReadPublicReadClaims|a.CanReadPublicChangeClaims|a.CanReadEveryoneReadClaims|a.CanReadEveryoneChangeClaims,t.ThingUserReadClaims=a,t.validateThingUserReadClaims=(e=>e<=a.AllClaims&&e>=a.NoClaims);const c={NoClaims:0,CanDeleteThing:1,CanChangeName:2,CanChangeDescription:4,CanChangeKind:8,CanChangeValue:16,CanChangeDeletedStatus:32,CanChangePublicReadClaims:4096,CanChangePublicChangeClaims:8192,CanChangeEveryoneReadClaims:16384,CanChangeEveryoneChangeClaims:32768,CanAddThingUserRights:64,CanDeleteThingUserRights:128,CanChangeThingUserRole:256,CanChangeThingUserStatus:512,CanChangeThingUserVisibility:524288,CanChangeThingUserReadClaims:1024,CanChangeThingUserChangeClaims:2048,CanAddChildrenThing:65536,CanRemoveChildrenThing:131072,CanOtherUsersChangeMyThingPos:262144};c.AllClaims=c.CanDeleteThing|c.CanChangeName|c.CanChangeDescription|c.CanChangeKind|c.CanChangeValue|c.CanChangeDeletedStatus|c.CanAddThingUserRights|c.CanDeleteThingUserRights|c.CanChangeThingUserRole|c.CanChangeThingUserVisibility|c.CanChangeThingUserStatus|c.CanChangeThingUserReadClaims|c.CanChangeThingUserChangeClaims|c.CanChangePublicReadClaims|c.CanChangePublicChangeClaims|c.CanChangeEveryoneReadClaims|c.CanChangeEveryoneChangeClaims|c.CanAddChildrenThing|c.CanRemoveChildrenThing,t.ThingUserChangeClaims=c,t.validateThingUserChangeClaims=(e=>e<=c.AllClaims&&e>=c.NoClaims),t.ThingKind={NoMatter:"0",genericId:"1",genericTxt:"the bees are laborious"};const l=Number.MAX_SAFE_INTEGER;t.DefaultThingPos=l},function(e,t,r){"use strict";var n=r(4),o=r(17);e.exports=function(){return n(),"function"==typeof Promise.prototype.finally?Promise.prototype.finally:o}},function(e,t){e.exports=function(e,t){var r=e%t;return Math.floor(r>=0?r:r+t)}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(Object.assign)return Object.assign(e,t);for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e}},function(e,t){var r=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!r(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=Number.isNaN||function(e){return e!=e}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,r){"use strict";r(4)();var n=r(43),o=r(1),i=function(e,t){return new e(function(e){e(t)})},s=Promise,a=o.call(Function.call,s.prototype.then),c=function(e){a(this,null,function(){});var t=n.SpeciesConstructor(this,s),r=e,o=e;return n.IsCallable(e)&&(r=function(e,t){return function(r){var n=t();return i(e,n).then(function(){return r})}}(t,e),o=function(e,t){return function(r){var n=t();return i(e,n).then(function(){throw r})}}(t,e)),this.then(r,o)};if(Object.getOwnPropertyDescriptor){var l=Object.getOwnPropertyDescriptor(c,"name");l&&l.configurable&&Object.defineProperty(c,"name",{configurable:!0,value:"finally"})}e.exports=c},function(e,t,r){"use strict";var n=r(46),o=r(44),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),s=Object.prototype.toString,a=Object.defineProperty&&function(){var e={};try{for(var t in Object.defineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,r,n){(!(t in e)||function(e){return"function"==typeof e&&"[object Function]"===s.call(e)}(n)&&n())&&(a?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},s=n(t);i&&(s=s.concat(Object.getOwnPropertySymbols(t))),o(s,function(n){c(e,n,t[n],r[n])})};l.supportsDescriptors=!!a,e.exports=l},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),r(48).shim(),n(r(9)),n(r(32)),n(r(31)),n(r(8)),n(r(29)),n(r(23)),n(r(22)),n(r(21)),n(r(20))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(19);t.ThingsManager=class{constructor(e,t,r,n,o){this.mainThing=e,this.thingKind=t,this.thingClaims=r,this.thingsDataContext=n,this.realtimeConnector=o,this.onCreateThing=(e=>{e.kind!==this.thingKind||this.mainThing.addThingChild(e)}),this.getMoreThings=(e=>{let t=this;return new Promise((r,n)=>{this.getMoreThingChildren(this.mainThing,this.getThingsParams,e).then(function(o){let i=[];for(let r=0;r<o.things.length;r++)i.push(t.getMoreThingChildren(o.things[r],t.getChindrenThingsParams,e));return Promise.all(i).then(function(e){return r(e),e}).catch(function(e){return n(e),e}),o}).catch(function(e){return n(e),e})})}),this.getThingsParams={parentThingId:null,thingFilter:{$and:[{kind:this.thingKind},{deletedStatus:1}]},top:10,skip:0,orderBy:null,valueFilter:null},this.getChindrenThingsParams={parentThingId:null,thingFilter:{deletedStatus:1},top:10,skip:0,orderBy:null,valueFilter:null},this.realtimeConnector.setHook("onCreateThing",this.onCreateThing)}getThings(e,t){return n(this,void 0,void 0,function*(){let r=null,n=[];try{r=yield this.thingsDataContext.getThings(e,t);for(let e=0;e<r.things.length;e++){var i=new o.Thing(r.things[e]);n.push(i)}}catch(e){throw e}return{things:n,itemsRange:r.itemsRange}})}getMoreThingChildren(e,t,r){return t.skip=e.childrenSkip,t.parentThingId=e.id,this.getThings(t,r).then(function(r){e.childrenTotalItems=r.itemsRange.totalItems,e.childrenSkip=e.childrenSkip+t.top,e.childrenSkip>e.childrenTotalItems&&(e.childrenSkip=e.childrenTotalItems);for(var n=0;n<r.things.length;n++)e.children.push(r.things[n]);return r})}getThingsTotalItems(){return this.mainThing.childrenTotalItems}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(8);t.ThingsDataContext=class{constructor(e,t){this.apiEndPointAddress="",this.securityHeaderHook=null,this.apiEndPointAddress=e.api,this.securityHeaderHook=t}thingsUrl(e){return this.apiEndPointAddress+"/things/"+(e||"")}thingsValueUrl(e){return this.apiEndPointAddress+"/things/"+e+"/value"}thingsPositionsUrl(){return this.apiEndPointAddress+"/things/positions"}thingChildrenUrl(e,t){return this.apiEndPointAddress+"/things/"+e+"/childrenIds/"+(t||"")}thingDeleteChildUrl(e,t){return this.apiEndPointAddress+"/things/"+e+"/childrenIds/"+t}getThing(e){return n.default.get(this.thingsUrl(e),{headers:this.securityHeaderHook()}).then(function(e){return e.data})}getThings(e,t){var r=this.thingsUrl()+"?"+(e.parentThingId?"&parentThingId="+e.parentThingId:"")+(e.thingFilter?"&thingFilter="+JSON.stringify(e.thingFilter):"")+(e.valueFilter?"&valueFilter="+JSON.stringify(e.valueFilter):"")+(e.orderBy?"&orderBy="+e.orderBy:"")+(e.skip?"&skip="+e.skip:"")+(e.top?"&top="+e.top:"");return t&&t.setup(),n.default.get(r,{headers:this.securityHeaderHook(),cancelToken:t?t.cancelerToken:null}).then(function(e){return{things:e.data,itemsRange:o.Helpers.getRangeItemsFromResponse(e)}}).finally(function(){})}createThing(e){return n.default.post(this.thingsUrl(),e,{headers:this.securityHeaderHook()}).then(function(e){return e.data})}updateThing(e,t){return n.default.put(this.thingsUrl(e),t,{headers:this.securityHeaderHook()}).then(function(e){return e.data})}deleteThing(e){return n.default.delete(this.thingsUrl(e),{headers:this.securityHeaderHook()}).then(function(e){return e.data})}getThingChildrenIds(e){return n.default.get(this.thingChildrenUrl(e),{headers:this.securityHeaderHook()}).then(function(e){return e.data})}addChildToParent(e,t){return n.default.post(this.thingChildrenUrl(e),JSON.stringify(t),{headers:this.securityHeaderHook()}).then(function(e){return e.data})}deleteThingChild(e,t){return n.default.delete(this.thingDeleteChildUrl(e,t),{headers:this.securityHeaderHook()}).then(function(e){return e.data})}getThingValue(e,t){return n.default.get(this.thingsValueUrl(e),{headers:this.securityHeaderHook()}).then(function(e){return e.data})}putThingValue(e,t){return n.default.put(this.thingsValueUrl(e),t,{headers:this.securityHeaderHook()}).then(function(e){return e.data})}putThingsPositions(e){return n.default.put(this.thingsPositionsUrl(),e,{headers:this.securityHeaderHook()}).then(function(e){return e.data})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.childrenSkip=0,this.childrenTotalItems=Number.MAX_SAFE_INTEGER,this.children=[],this.id="",this.name="",this.kind="",this.pos=0,this.deletedStatus=0,this.publicReadClaims=0,this.publicChangeClaims=0,this.everyoneReadClaims=0,this.everyoneChangeClaims=0,this.userStatus=0,this.userRole=0,this.userVisibility=0,this.userReadClaims=0,this.userChangeClaims=0,this.usersInfos=[],this.value={},e&&(Object.assign(this,e),e.value&&(this.value=e.value))}addThingChild(e){this.children.unshift(new n(e))}collapse(){this.childrenSkip=0,this.children.splice(0,this.children.length)}shallowCopy(){let e=new n;return Object.assign(e,this),e}}t.Thing=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.AccountManager=class{constructor(e,t,r){if(this.dummy="carmelo",this._appName=null,this._accessToken=null,this._userId=null,this._userName=null,this._apiKey=null,this.getSecurityHeader=(()=>this.apiKey?{thapikey:this.apiKey}:{Authorization:"Bearer "+this.accessToken}),this.getSecurityToken=(()=>this.apiKey?"token="+this.apiKey:"token="+this.accessToken),this._appName=e,this.accountDataContext=t,this.getLoginData(r),this.apiKey)return;if(!this.accessToken)return;const n=o(this.accessToken);let i=new Date;n.exp<Math.trunc(i.getTime()/1e3)&&this.resetLoginData()}resetLoginData(){this._accessToken=null,this._userId=null,this._userName=null,localStorage.removeItem(this._appName+"_Remember"),localStorage.removeItem(this._appName+"_AccessToken"),sessionStorage.removeItem(this._appName+"_AccessToken"),localStorage.removeItem(this._appName+"_UserId"),sessionStorage.removeItem(this._appName+"_UserId"),localStorage.removeItem(this._appName+"_Username"),sessionStorage.removeItem(this._appName+"_Username")}setLoginData(e,t){this._apiKey=null,this._accessToken=e.accessToken,this._userId=e.id,this._userName=e.name,sessionStorage.setItem(this._appName+"_AccessToken",this._accessToken),sessionStorage.setItem(this._appName+"_UserId",this._userId),sessionStorage.setItem(this._appName+"_Username",this._userName),localStorage.setItem(this._appName+"_Remember",1==t?"true":"false"),0!=t&&(localStorage.setItem(this._appName+"_AccessToken",this._accessToken),localStorage.setItem(this._appName+"_UserId",this._userId),localStorage.setItem(this._appName+"_Username",this._userName))}getLoginData(e){if(e)return this.resetLoginData(),void(this._apiKey=e);this._apiKey=null,this._accessToken=sessionStorage.getItem(this._appName+"_AccessToken"),this._userId=sessionStorage.getItem(this._appName+"_UserId"),this._userName=sessionStorage.getItem(this._appName+"_Username"),0!=this.remember&&(this._accessToken=localStorage.getItem(this._appName+"_AccessToken"),this._userId=localStorage.getItem(this._appName+"_UserId"),this._userName=localStorage.getItem(this._appName+"_Username"))}get apiKey(){return this._apiKey}get accessToken(){return this._accessToken}get isLoggedIn(){if(this.apiKey)return!0;if(!this.accessToken)return!1;const e=o(this.accessToken);let t=new Date;return Math.trunc(t.getTime()/1e3),!(e.exp<Math.trunc(t.getTime()/1e3))}get remember(){return"true"==localStorage.getItem(this._appName+"_Remember")}login(e,t,r){return n(this,void 0,void 0,function*(){this._apiKey=null,this.resetLoginData();const n=yield this.accountDataContext.login(e,t);return this.setLoginData(n,r),n})}logout(){return n(this,void 0,void 0,function*(){try{return yield this.accountDataContext.logout()}finally{this._apiKey=null,this.resetLoginData()}})}}},function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,s=0,a=0,c="";i=t.charAt(a++);~i&&(o=s%4?64*o+i:i,s++%4)?c+=String.fromCharCode(255&o>>(-2*s&6)):0)i=r.indexOf(i);return c}},function(e,t,r){var n=r(24);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(e){return n(t)}}},function(e,t,r){"use strict";var n=r(7),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(n),a=s?n.slice(0,s.index):n,c=[];if(a){if(!r.plainObjects&&o.call(Object.prototype,a)&&!r.allowPrototypes)return;c.push(a)}for(var l=0;null!==(s=i.exec(n))&&l<r.depth;){if(l+=1,!r.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+n.slice(s.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var i,s=e[o];if("[]"===s)i=(i=[]).concat(n);else{i=r.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(a,10);!isNaN(c)&&s!==a&&String(c)===a&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(i=[])[c]=n:i[a]=n}n=i}return n}(c,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,a=n.split(t.delimiter,s),c=0;c<a.length;++c){var l,u,h=a[c],p=h.indexOf("]="),f=-1===p?h.indexOf("="):p+1;-1===f?(l=t.decoder(h,i.decoder),u=t.strictNullHandling?null:""):(l=t.decoder(h.slice(0,f),i.decoder),u=t.decoder(h.slice(f+1),i.decoder)),o.call(r,l)?r[l]=[].concat(r[l]).concat(u):r[l]=u}return r}(e,r):e,c=r.plainObjects?Object.create(null):{},l=Object.keys(a),u=0;u<l.length;++u){var h=l[u],p=s(h,a[h],r);c=n.merge(c,p,r)}return n.compact(c)}},function(e,t,r){"use strict";var n=r(7),o=r(6),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,r,o,i,s,c,l,u,h,p,f,d){var y=t;if("function"==typeof l)y=l(r,y);else if(y instanceof Date)y=p(y);else if(null===y){if(i)return c&&!d?c(r,a.encoder):r;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||n.isBuffer(y))return c?[f(d?r:c(r,a.encoder))+"="+f(c(y,a.encoder))]:[f(r)+"="+f(String(y))];var g,m=[];if(void 0===y)return m;if(Array.isArray(l))g=l;else{var b=Object.keys(y);g=u?b.sort(u):b}for(var C=0;C<g.length;++C){var T=g[C];s&&null===y[T]||(m=Array.isArray(y)?m.concat(e(y[T],o(r,T),o,i,s,c,l,u,h,p,f,d)):m.concat(e(y[T],r+(h?"."+T:"["+T+"]"),o,i,s,c,l,u,h,p,f,d)))}return m};e.exports=function(e,t){var r=e,s=t?n.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===s.delimiter?a.delimiter:s.delimiter,u="boolean"==typeof s.strictNullHandling?s.strictNullHandling:a.strictNullHandling,h="boolean"==typeof s.skipNulls?s.skipNulls:a.skipNulls,p="boolean"==typeof s.encode?s.encode:a.encode,f="function"==typeof s.encoder?s.encoder:a.encoder,d="function"==typeof s.sort?s.sort:null,y=void 0!==s.allowDots&&s.allowDots,g="function"==typeof s.serializeDate?s.serializeDate:a.serializeDate,m="boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:a.encodeValuesOnly;if(void 0===s.format)s.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,s.format))throw new TypeError("Unknown format option provided.");var b,C,T=o.formatters[s.format];"function"==typeof s.filter?r=(C=s.filter)("",r):Array.isArray(s.filter)&&(b=C=s.filter);var v,w=[];if("object"!=typeof r||null===r)return"";v=s.arrayFormat in i?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var S=i[v];b||(b=Object.keys(r)),d&&b.sort(d);for(var O=0;O<b.length;++O){var j=b[O];h&&null===r[j]||(w=w.concat(c(r[j],j,S,u,h,p?f:null,C,d,y,g,T,m)))}var k=w.join(l),I=!0===s.addQueryPrefix?"?":"";return k.length>0?I+k:""}},function(e,t,r){"use strict";var n=r(27),o=r(26),i=r(6);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28),o=r(0),i=r(5);t.AccountDataContext=class{constructor(e,t){this.accountActionControl=t,this.accountUrl="",this.accountUrl=e.api+"/account",o.default.interceptors.response.use(e=>e,e=>{const r=e.response;return t&&r&&401===r.status&&r.config&&!r.config.__isRetryRequest?this.getNewAccessToken().then(e=>(r.config.__isRetryRequest=!0,r.config.headers=this.accountActionControl.getSecurityHeader(),o.default(r.config))).catch(e=>(this.accountActionControl.resetApp(),Promise.reject(e))):Promise.reject(r)})}getNewAccessToken(){return this.authTokenRequest||(this.authTokenRequest=this.accountActionControl.refreshToken(),this.authTokenRequest.then(e=>{this.authTokenRequest=null}).catch(e=>{this.authTokenRequest=null})),this.authTokenRequest}login(e,t){let r={username:e,password:t};return o.default.post(this.accountUrl+"/login",n.stringify(r),{headers:{"Content-Type":"application/x-www-form-urlencoded"},__isRetryRequest:!0}).then(function(e){const t=i(e.data.access_token);return{accessToken:e.data.access_token,id:t.sub,name:t.name,exp:t.exp}})}loginBasic(e,t){return o.default.post(this.accountUrl+"/login","grant_type=client_credentials",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(e+":"+t)}}).then(function(e){return e.data})}logout(){return o.default.post(this.accountUrl+"/logout",null,{headers:this.accountActionControl?this.accountActionControl.getSecurityHeader():null}).then(function(e){return e.data})}}},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(30);!function(e){e[e.Connecting=0]="Connecting",e[e.Connected=1]="Connected",e[e.Reconnecting=2]="Reconnecting",e[e.Disconnected=4]="Disconnected"}(t.RealtimeConnectionStates||(t.RealtimeConnectionStates={}));class i{constructor(e,t,r,n,o){this.connectionStatus=4,this.url="",this.authHook=null,this.errorHook=null,this.stateChangedHook=null,this.connectErrorHook=null,this.url=e,this.authHook=t,this.errorHook=r,this.connectErrorHook=n,this.stateChangedHook=o}on_connectionStatusChange(e){this.connectionStatus!=e&&(this.connectionStatus=e,this.stateChangedHook(e))}subscribe(){}unsubscribe(){}setHook(e,t){}remHook(e,t){}api(){return n.default.get(this.url+"/api").then(e=>e)}}t.RealtimeConnector=i;t.SocketIORealtimeConnector=class extends i{constructor(e,t,r,n,o){super(e,t,r,n,o),this.socket=null}on_error(e){this.errorHook&&this.errorHook(e)}on_connect_error(e){this.connectErrorHook&&this.connectErrorHook(e)}on_connect(){this.on_connectionStatusChange&&this.on_connectionStatusChange(1)}on_disconnect(e){this.on_connectionStatusChange&&this.on_connectionStatusChange(4)}subscribe(){if(this.socket)return;let e=this.url+"?"+this.authHook();this.socket=o(e),this.socket.on("error",e=>this.on_error(e)),this.socket.on("connect_error",e=>this.on_connect_error(e)),this.socket.on("connect",()=>this.on_connect()),this.socket.on("disconnect",e=>this.on_disconnect(e))}unsubscribe(){this.socket&&this.socket.disconnect()}setHook(e,t){this.socket.on(e,t)}remHook(e,t){this.socket.off(e,t)}}},function(e,t,r){"use strict";const n=r(9);t.RegisterByOnlyEmailStatus={UserAlreadyRegistered:1,ConfirmPendingEmailSent:2};t.RegisterByOnlyEmailDTO=class{constructor(e,t,r){this.email=e,this.confirmationToken=t,this.status=r}};class o{constructor(e){this.value=e.email,this.isConfimed=e.isConfimed}}t.EmailDTO=o;t.UserDTO=class{constructor(e,t){this.id=e._id,this.name=e.name,t&&(this.emails=[],this.username=e.userName,e.emails.foreach(e=>this.emails.push(new o(e))),this.masterApiKey=e.masterApiKey)}};t.UserInfoDTO=class{constructor(){this.id="",this.name="the bees are laborious"}};t.ThingDTO=class{constructor(){this.id="",this.creationDate=null,this.name="",this.kind=n.ThingKind.genericId,this.pos=0,this.deletedStatus=n.ThingDeletedStates.NoMatter,this.deletedDate=null,this.publicReadClaims=n.ThingUserReadClaims.NoClaims,this.publicChangeClaims=n.ThingUserChangeClaims.NoClaims,this.everyoneReadClaims=n.ThingUserReadClaims.NoClaims,this.everyoneChangeClaims=n.ThingUserChangeClaims.NoClaims,this.value={},this.userStatus=n.ThingUserStates.NoMatter,this.userRole=n.ThingUserRoles.NoMatter,this.userVisibility=n.ThingUserVisibility.NoMatter,this.userReadClaims=n.ThingUserReadClaims.NoClaims,this.userChangeClaims=n.ThingUserChangeClaims.NoClaims,this.usersInfos=[]}}},function(e,t,r){"use strict";var n=r(4),o=r(10),i=r(18);e.exports=function(){n();var e=o();return i(Promise.prototype,{finally:e},{finally:function(){return Promise.prototype.finally!==e}}),e}},function(e,t,r){"use strict";var n=r(3),o=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a)return"[object RegExp]"===s.call(e);var t=i(e,"lastIndex");return!(!t||!n(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,r){"use strict";var n=Object.prototype.toString,o=r(16),i=r(2),s=function(e,t){var r=t||("[object Date]"===n.call(e)?String:Number);if(r===String||r===Number){var s,a,c=r===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<c.length;++a)if(i(e[c[a]])&&(s=e[c[a]](),o(s)))return s;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e,t){return o(e)?e:s(e,t)}},function(e,t,r){"use strict";var n=r(15),o=r(14),i=r(12),s=r(11),a=r(2),c=r(35),l=r(3),u={ToPrimitive:c,ToBoolean:function(e){return!!e},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return n(t)?0:0!==t&&o(t)?i(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(n(t)||0===t||!o(t))return 0;var r=i(t)*Math.floor(Math.abs(t));return s(r,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:a,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:n(e)&&n(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(l(e,r)&&!t[r])return!1;var n=l(e,"[[Value]]"),o=l(e,"[[Get]]")||l(e,"[[Set]]");if(n&&o)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!l(e,"[[Get]]")&&!l(e,"[[Set]]"))},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!l(e,"[[Value]]")&&!l(e,"[[Writable]]"))},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e)},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new TypeError("ToPropertyDescriptor requires an object");var t={};if(l(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),l(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),l(e,"value")&&(t["[[Value]]"]=e.value),l(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),l(e,"get")){var r=e.get;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("getter must be a function");t["[[Get]]"]=r}if(l(e,"set")){var n=e.set;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("setter must be a function");t["[[Set]]"]=n}if((l(t,"[[Get]]")||l(t,"[[Set]]"))&&(l(t,"[[Value]]")||l(t,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=u},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,r){"use strict";var n=Object.prototype.toString;if("function"==typeof Symbol&&"symbol"==typeof Symbol()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=r(16),i=r(2),s=r(39),a=r(38);e.exports=function(e,t){if(o(e))return e;var r,c="default";if(arguments.length>1&&(t===String?c="string":t===Number&&(c="number")),n&&(Symbol.toPrimitive?r=function(e,t){var r=e[t];if(null!==r&&void 0!==r){if(!i(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}}(e,Symbol.toPrimitive):a(e)&&(r=Symbol.prototype.valueOf)),void 0!==r){var l=r.call(e,c);if(o(l))return l;throw new TypeError("unable to convert exotic object to primitive")}return"default"===c&&(s(e)||a(e))&&(c="string"),function(e,t){if(void 0===e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var r,n,s,a="string"===t?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(r=e[a[s]],i(r)&&(n=r.call(e),o(n)))return n;throw new TypeError("No default value")}(e,"default"===c?"number":c)}},function(e,t,r){"use strict";var n=r(3),o=r(40),i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=r(15),c=r(14),l=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,u=r(13),h=r(12),p=r(11),f=r(37),d=parseInt,y=r(1),g=y.call(Function.call,Array.prototype.slice),m=y.call(Function.call,String.prototype.slice),b=y.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),C=y.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),T=y.call(Function.call,RegExp.prototype.exec),v=["","​","￾"].join(""),w=new RegExp("["+v+"]","g"),S=y.call(Function.call,RegExp.prototype.test,w),O=y.call(Function.call,RegExp.prototype.test,/^[-+]0x[0-9a-f]+$/i),j=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),k=new RegExp("(^["+j+"]+)|(["+j+"]+$)","g"),I=y.call(Function.call,String.prototype.replace),P=r(36),R=r(34),_=u(u({},P),{Call:function(e,t){var r=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new TypeError(e+" is not a function");return e.apply(t,r)},ToPrimitive:o,ToNumber:function(e){var t=f(e)?e:o(e,Number);if("symbol"==typeof t)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof t){if(b(t))return this.ToNumber(d(m(t,2),2));if(C(t))return this.ToNumber(d(m(t,2),8));if(S(t)||O(t))return NaN;var r=function(e){return I(e,k,"")}(t);if(r!==t)return this.ToNumber(r)}return Number(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(a(t)||0===t||!c(t))return 0;var r=h(t)*Math.floor(Math.abs(t));return p(r,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(a(t)||t<=0)return 0;if(t>=255)return 255;var r=Math.floor(e);return r+.5<t?r+1:t<r+.5?r:r%2!=0?r+1:r},ToString:function(e){if("symbol"==typeof e)throw new TypeError("Cannot convert a Symbol value to a string");return String(e)},ToObject:function(e){return this.RequireObjectCoercible(e),Object(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,String);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>l?l:t},CanonicalNumericIndexString:function(e){if("[object String]"!==i.call(e))throw new TypeError("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:P.CheckObjectCoercible,IsArray:Array.isArray||function(e){return"[object Array]"===i.call(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:function(e){return!Object.preventExtensions||!f(e)&&Object.isExtensible(e)},IsInteger:function(e){if("number"!=typeof e||a(e)||!c(e))return!1;var t=Math.abs(e);return Math.floor(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(s){var t=e[Symbol.match];if(void 0!==t)return P.ToBoolean(t)}return R(e)},SameValueZero:function(e,t){return e===t||a(e)&&a(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var r=this.GetV(e,t);if(null!=r){if(!this.IsCallable(r))throw new TypeError(t+"is not a function");return r}},Get:function(e,t){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":P.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");var r=e.constructor;if(void 0===r)return t;if("Object"!==this.Type(r))throw new TypeError("O.constructor is not an Object");var n=s&&Symbol.species?r[Symbol.species]:void 0;if(null==n)return t;if(this.IsConstructor(n))return n;throw new TypeError("no constructor found")},CompletePropertyDescriptor:function(e){if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(n(e,"[[Value]]")||(e["[[Value]]"]=void 0),n(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(n(e,"[[Get]]")||(e["[[Get]]"]=void 0),n(e,"[[Set]]")||(e["[[Set]]"]=void 0)),n(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),n(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,r,n){if("Object"!==this.Type(e))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");if("Boolean"!==this.Type(n))throw new TypeError("Throw must be a Boolean");if(n)return e[t]=r,!0;try{e[t]=r}catch(e){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");return n(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(s&&"symbol"==typeof Symbol.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if(void 0!==t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");var r=g(arguments,2),n=this.GetV(e,t);return this.Call(n,e,r)},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new TypeError("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new TypeError("R must be an Object");if("String"!==this.Type(t))throw new TypeError("S must be a String");var r=this.Get(e,"exec");if(this.IsCallable(r)){var n=this.Call(r,e,[t]);if(null===n||"Object"===this.Type(n))return n;throw new TypeError('"exec" method must return `null` or an Object')}return T(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new TypeError("Assertion failed: length must be an integer >= 0");var r,n=0===t?0:t;if(this.IsArray(e)&&(r=this.Get(e,"constructor"),"Object"===this.Type(r)&&s&&Symbol.species&&null===(r=this.Get(r,Symbol.species))&&(r=void 0)),void 0===r)return Array(n);if(!this.IsConstructor(r))throw new TypeError("C must be a constructor");return new r(n)},CreateDataProperty:function(e,t,r){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var n=Object.getOwnPropertyDescriptor(e,t),o=n||"function"!=typeof Object.isExtensible||Object.isExtensible(e);if(n&&(!n.writable||!n.configurable)||!o)return!1;var i={configurable:!0,enumerable:!0,value:r,writable:!0};return Object.defineProperty(e,t,i),!0},CreateDataPropertyOrThrow:function(e,t,r){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var n=this.CreateDataProperty(e,t,r);if(!n)throw new TypeError("unable to create data property");return n},AdvanceStringIndex:function(e,t,r){if("String"!==this.Type(e))throw new TypeError("Assertion failed: Type(S) is not String");if(!this.IsInteger(t))throw new TypeError("Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)");if(t<0||t>l)throw new RangeError("Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)");if("Boolean"!==this.Type(r))throw new TypeError("Assertion failed: Type(unicode) is not Boolean");if(!r)return t+1;if(t+1>=e.length)return t+1;var n=e.charCodeAt(t);if(n<55296||n>56319)return t+1;var o=e.charCodeAt(t+1);return o<56320||o>57343?t+1:t+2}});delete _.CheckObjectCoercible,e.exports=_},function(e,t,r){"use strict";var n=r(41),o=r(13),i=o(o({},n),{SameValueNonNumber:function(e,t){if("number"==typeof e||typeof e!=typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)}});e.exports=i},function(e,t,r){"use strict";e.exports=r(42)},function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==n.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)t.call(o,e[s],s,e);else for(var a in e)r.call(e,a)&&t.call(o,e[a],a,e)}},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Array.prototype.slice,s=r(45),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},p={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),i=s(e),a=t&&"[object String]"===o.call(e),p=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var d=l&&r;if(a&&e.length>0&&!n.call(e,0))for(var y=0;y<e.length;++y)p.push(String(y));if(i&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var m in e)d&&"prototype"===m||!n.call(e,m)||p.push(String(m));if(c)for(var b=function(e){if("undefined"==typeof window||!f)return h(e);try{return h(e)}catch(e){return!1}}(e),C=0;C<u.length;++C)b&&"constructor"===u[C]||!n.call(e,u[C])||p.push(u[C]);return p};d.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return s(t)?e(i.call(t)):e(t)}}}else Object.keys=d;return Object.keys||d},e.exports=d},function(e,t,r){"use strict";var n=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,i=n.call(arguments,1),s=Math.max(0,t.length-i.length),a=[],c=0;c<s;c++)a.push("$"+c);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var o=t.apply(this,i.concat(n.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(n.call(arguments)))}),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r}},function(e,t,r){"use strict";var n=r(1),o=r(18),i=r(17),s=r(10),a=r(33),c=n.call(Function.call,s());o(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c}])});
//# sourceMappingURL=thingshub.js.map