{"version":3,"sources":["webpack://thingshub/webpack/universalModuleDefinition","webpack://thingshub/webpack/bootstrap","webpack://thingshub/external \"axios\"","webpack://thingshub/./node_modules/function-bind/index.js","webpack://thingshub/./node_modules/is-callable/index.js","webpack://thingshub/./node_modules/has/src/index.js","webpack://thingshub/./node_modules/promise.prototype.finally/requirePromise.js","webpack://thingshub/./node_modules/jwt-decode/lib/index.js","webpack://thingshub/./node_modules/qs/lib/formats.js","webpack://thingshub/./node_modules/qs/lib/utils.js","webpack://thingshub/./src/helpers.ts","webpack://thingshub/../common/src/thConstants.js","webpack://thingshub/./node_modules/promise.prototype.finally/polyfill.js","webpack://thingshub/./node_modules/es-abstract/helpers/mod.js","webpack://thingshub/./node_modules/es-abstract/helpers/sign.js","webpack://thingshub/./node_modules/es-abstract/helpers/assign.js","webpack://thingshub/./node_modules/es-abstract/helpers/isFinite.js","webpack://thingshub/./node_modules/es-abstract/helpers/isNaN.js","webpack://thingshub/./node_modules/es-to-primitive/helpers/isPrimitive.js","webpack://thingshub/./node_modules/promise.prototype.finally/implementation.js","webpack://thingshub/./node_modules/define-properties/index.js","webpack://thingshub/./src/index.ts","webpack://thingshub/./src/thingsManager.ts","webpack://thingshub/./src/thingsDataContext.ts","webpack://thingshub/./src/thing.ts","webpack://thingshub/./src/accountManager.ts","webpack://thingshub/./node_modules/jwt-decode/lib/atob.js","webpack://thingshub/./node_modules/jwt-decode/lib/base64_url_decode.js","webpack://thingshub/./node_modules/qs/lib/parse.js","webpack://thingshub/./node_modules/qs/lib/stringify.js","webpack://thingshub/./node_modules/qs/lib/index.js","webpack://thingshub/./src/accountDataContext.ts","webpack://thingshub/external {\"amd\":\"socket.io-client\",\"global\":\"io\",\"root\":\"io\",\"commonjs\":\"socket.io-client\",\"commonjs2\":\"socket.io-client\"}","webpack://thingshub/./src/realtimeConnectors.ts","webpack://thingshub/../common/src/dtos.js","webpack://thingshub/./node_modules/promise.prototype.finally/shim.js","webpack://thingshub/./node_modules/is-regex/index.js","webpack://thingshub/./node_modules/es-to-primitive/es5.js","webpack://thingshub/./node_modules/es-abstract/es5.js","webpack://thingshub/./node_modules/es-abstract/helpers/isPrimitive.js","webpack://thingshub/./node_modules/is-symbol/index.js","webpack://thingshub/./node_modules/is-date-object/index.js","webpack://thingshub/./node_modules/es-to-primitive/es6.js","webpack://thingshub/./node_modules/es-abstract/es2015.js","webpack://thingshub/./node_modules/es-abstract/es2016.js","webpack://thingshub/./node_modules/es-abstract/es7.js","webpack://thingshub/./node_modules/foreach/index.js","webpack://thingshub/./node_modules/object-keys/isArguments.js","webpack://thingshub/./node_modules/object-keys/index.js","webpack://thingshub/./node_modules/function-bind/implementation.js","webpack://thingshub/./node_modules/promise.prototype.finally/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__30__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","implementation","Function","fnToStr","toString","constructorRegex","isES6ClassFn","spaceStripped","replace","test","e","toStr","hasToStringTag","tryFunctionObject","strClass","Promise","TypeError","base64_url_decode","InvalidTokenError","message","this","Error","token","options","pos","header","JSON","parse","split","String","percentTwenties","default","formatters","RFC1738","RFC3986","has","hexTable","array","push","toUpperCase","arrayToObject","source","obj","plainObjects","length","assign","target","keys","reduce","acc","compact","queue","prop","refs","item","j","val","indexOf","pop","Array","isArray","compacted","compactQueue","decode","str","decodeURIComponent","encode","string","out","charCodeAt","charAt","isBuffer","constructor","isRegExp","merge","allowPrototypes","concat","mergeTarget","forEach","axios_1","HttpRequestCanceler","[object Object]","cancelerToken","executor","CancelToken","reset","Helpers","response","contentRange","headers","top","skip","totalItems","arr1","arr2","arr3","parseInt","ThingDeletedStates","NoMatter","Ok","Deleted","validateThingDeletedStatus","deletedStatus","ThingUserRoles","Administrator","User","validateThingUserRoles","userRole","ThingUserStates","WaitForAuth","validateThingUserStatus","userStatus","ThingUserVisibility","Visible","Hidden","validateThingUserVisibility","visibility","ThingUserReadClaims","NoClaims","CanReadCreationDate","CanReadName","CanReadDescription","CanReadKind","CanReadValue","CanReadDeletedStatus","CanReadPublicReadClaims","CanReadPublicChangeClaims","CanReadEveryoneReadClaims","CanReadEveryoneChangeClaims","CanReadThingUserRights","CanReadThingUserRole","CanReadThingUserStatus","CanReadThingUserVisibility","CanReadThingUserReadClaims","CanReadThingUserChangeClaims","AllClaims","validateThingUserReadClaims","userReadClaims","ThingUserChangeClaims","CanDeleteThing","CanChangeName","CanChangeDescription","CanChangeKind","CanChangeValue","CanChangeDeletedStatus","CanChangePublicReadClaims","CanChangePublicChangeClaims","CanChangeEveryoneReadClaims","CanChangeEveryoneChangeClaims","CanAddThingUserRights","CanDeleteThingUserRights","CanChangeThingUserRole","CanChangeThingUserStatus","CanChangeThingUserVisibility","CanChangeThingUserReadClaims","CanChangeThingUserChangeClaims","CanAddChildrenThing","CanRemoveChildrenThing","CanOtherUsersChangeMyThingPos","validateThingUserChangeClaims","userChangeClaims","ThingKind","genericId","genericTxt","DefaultThingPos","Number","MAX_SAFE_INTEGER","requirePromise","number","modulo","remain","Math","floor","$isNaN","isNaN","a","isFinite","x","Infinity","ES","promiseResolve","C","resolve","OriginalPromise","then","promiseFinally","onFinally","SpeciesConstructor","thenFinally","catchFinally","IsCallable","result","createThenFinally","reason","createCatchFinally","getOwnPropertyDescriptor","descriptor","configurable","foreach","hasSymbols","supportsDescriptors","_","arePropertyDescriptorsSupported","predicate","fn","isFunction","writable","defineProperties","map","predicates","arguments","props","getOwnPropertySymbols","shim","__export","_1","ThingsManager","mainThing","thingKind","thingClaims","thingsDataContext","realtimeConnector","onCreateThing","thingDTO","kind","addThingChild","getMoreThings","canceler","self","reject","getMoreThingChildren","getThingsParams","data","promises","things","getChindrenThingsParams","all","catch","parentThingId","thingFilter","$and","orderBy","valueFilter","setHook","parameter","thingsDTOsDataSet","getThings","thing","Thing","itemsRange","parentThing","childrenSkip","id","thingsDataSet","childrenTotalItems","children","helpers_1","ThingsDataContext","endPointAddress","securityHeaderHook","apiEndPointAddress","api","thingId","childrenId","childThingId","thingsUrl","urlRaw","stringify","setup","cancelToken","getRangeItemsFromResponse","finally","ThingDTO","post","put","delete","thingChildrenUrl","thingDeleteChildUrl","thingsValueUrl","positions","thingsPositionsUrl","publicReadClaims","publicChangeClaims","everyoneReadClaims","everyoneChangeClaims","userVisibility","usersInfos","thingChildDTO","unshift","splice","copyThing","jwtDecode","AccountManager","appName","accountDataContext","apiKey","dummy","_appName","_accessToken","_userId","_userName","_apiKey","getSecurityHeader","thapikey","Authorization","accessToken","getSecurityToken","getLoginData","accountUserDataRaw","dateNow","Date","exp","trunc","getTime","resetLoginData","localStorage","removeItem","sessionStorage","accountUserData","remember","setItem","getItem","isLoggedIn","username","password","login","setLoginData","logout","chars","InvalidCharacterError","atob","input","bs","buffer","bc","idx","output","fromCharCode","code","b64DecodeUnicode","err","utils","defaults","allowDots","arrayLimit","decoder","delimiter","depth","parameterLimit","strictNullHandling","parseKeys","givenKey","child","segment","exec","parent","slice","index","chain","leaf","cleanRoot","parseArrays","parseObject","opts","undefined","ignoreQueryPrefix","tempObj","cleanStr","limit","parts","part","bracketEqualsPos","parseValues","newObj","formats","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","toISOString","encoder","encodeValuesOnly","serializeDate","date","skipNulls","generateArrayPrefix","filter","sort","formatter","objKeys","values","format","arrayFormat","joined","join","addQueryPrefix","qs","AccountDataContext","accountActionControl","accountUrl","interceptors","use","error","status","config","__isRetryRequest","getNewAccessToken","resetApp","authTokenRequest","refreshToken","loginData","Content-Type","access_token","sub","btoa","socketIo","RealtimeConnectionStates","RealtimeConnector","url","authHook","errorHook","connectErrorHook","stateChangedHook","connectionStatus","newState","eventName","hook","SocketIORealtimeConnector","super","socket","on_connectionStatusChange","fullUrl","on","on_error","on_connect_error","on_connect","on_disconnect","disconnect","off","thConstants","RegisterByOnlyEmailStatus","UserAlreadyRegistered","ConfirmPendingEmailSent","RegisterByOnlyEmailDTO","email","confirmationToken","EmailDTO","isConfimed","UserDTO","user","fullInfos","_id","emails","userName","masterApiKey","UserInfoDTO","creationDate","deletedDate","getPolyfill","polyfill","regexExec","RegExp","gOPD","lastIndex","tryRegexExecCall","isPrimitive","isCallable","ES5internalSlots","O","hint","actualHint","methods","PreferredType","$isFinite","sign","mod","toPrimitive","ES5","ToPrimitive","ToBoolean","ToNumber","ToInteger","abs","ToInt32","ToUint32","ToUint16","posInt","ToString","ToObject","CheckObjectCoercible","optMessage","SameValue","y","Type","IsPropertyDescriptor","Desc","allowed","[[Configurable]]","[[Enumerable]]","[[Get]]","[[Set]]","[[Value]]","[[Writable]]","isData","IsAccessor","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","set","ToPropertyDescriptor","Obj","desc","setter","symToStr","symStringRegex","valueOf","isSymbolObject","getDay","tryDateObject","iterator","isDate","isSymbol","exoticToPrim","P","func","GetMethod","method","methodNames","ordinaryToPrimitive","pow","parseInteger","arraySlice","strSlice","isBinary","isOctal","nonWS","nonWSregex","hasNonWS","isInvalidHexLiteral","ws","trimRegex","hasRegExpMatcher","ES6","Call","F","V","args","apply","argument","NaN","trimmed","trim","ToInt16","int16bit","ToInt8","int8bit","ToUint8","ToUint8Clamp","f","RequireObjectCoercible","ToPropertyKey","ToLength","len","CanonicalNumericIndexString","IsArray","IsConstructor","IsExtensible","preventExtensions","isExtensible","IsInteger","IsPropertyKey","IsRegExp","match","SameValueZero","GetV","Get","defaultConstructor","S","species","CompletePropertyDescriptor","Set","Throw","HasOwnProperty","HasProperty","IsConcatSpreadable","isConcatSpreadable","spreadable","Invoke","argumentsList","CreateIterResultObject","done","RegExpExec","R","ArraySpeciesCreate","originalArray","CreateDataProperty","oldDesc","extensible","newDesc","CreateDataPropertyOrThrow","success","AdvanceStringIndex","unicode","RangeError","first","second","ES2015","ES2016","SameValueNonNumber","hasOwn","ctx","k","isArgs","callee","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","ctor","excludedKeys","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","keysShim","isObject","isArguments","isString","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","originalKeys","that","bound","boundLength","max","boundArgs","Empty"],"mappings":"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","file":"thingshub.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"axios\"), require(\"socket.io-client\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"axios\", \"socket.io-client\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"thingshub\"] = factory(require(\"axios\"), require(\"socket.io-client\"));\n\telse\n\t\troot[\"thingshub\"] = factory(root[\"axios\"], root[\"io\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__30__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class /;\nvar isES6ClassFn = function isES6ClassFn(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\tvar singleStripped = fnStr.replace(/\\/\\/.*\\n/g, '');\n\t\tvar multiStripped = singleStripped.replace(/\\/\\*[.\\s\\S]*\\*\\//g, '');\n\t\tvar spaceStripped = multiStripped.replace(/\\n/mg, ' ').replace(/ {2}/g, ' ');\n\t\treturn constructorRegex.test(spaceStripped);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionObject(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","var bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nmodule.exports = function requirePromise() {\n\tif (typeof Promise !== 'function') {\n\t\tthrow new TypeError('`Promise.prototype.finally` requires a global `Promise` be available.');\n\t}\n};\n","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","import axios, { AxiosRequestConfig, AxiosPromise, CancelToken } from \"axios\";\r\n\r\nexport interface ItemsRange {\r\n    skip:number;\r\n    top: number;\r\n    totalItems: number\r\n}\r\n\r\n// INFO: It is a wrapper for \"axios\" to abort Http calls\r\nexport class HttpRequestCanceler {\r\n\r\n    public cancelerToken : any = null;\r\n    public executor : any = null;\r\n\r\n    public setup() {\r\n\r\n        if (this.cancelerToken === null) {\r\n            this.cancelerToken = new axios.CancelToken((c) : void => {\r\n                this.executor = c\r\n            });\r\n        }\r\n    }\r\n\r\n    // INFO:    Maybe not useful\r\n    public reset() : void {\r\n\r\n        this.executor = null;\r\n        this.cancelerToken = null;\r\n    }\r\n    public cancel() : void {\r\n\r\n        if (this.executor)\r\n            this.executor();\r\n        this.reset();\r\n    }\r\n}\r\n\r\n// INFO: It is a wrapper for \"axios\" http call result\r\nexport type HttpFailResult = any;\r\n\r\nexport class Helpers {\r\n\r\n    public static getRangeItemsFromResponse(response: any) : ItemsRange  {\r\n        \r\n        //TODO: It's very common find \"response.headers\" syntax so for now is good\r\n        var contentRange = response.headers[\"content-range\"];\r\n\r\n        var top: number = 0;\r\n        var skip: number = 0;\r\n        var totalItems: number = 0;\r\n        if (contentRange) {\r\n            var arr1 = contentRange.split(\"/\");\r\n            if (arr1.length != 0) {\r\n                var arr2 = arr1[0].split(\" \");\r\n                if (arr2.length == 2) {\r\n                    var arr3 = arr2[1].split(\"-\");\r\n                    if (arr3.length == 2) {\r\n                        top = parseInt(arr3[0]);\r\n                        skip = parseInt(arr3[1]);\r\n                    }\r\n                }\r\n\r\n                if (arr1.length == 2)\r\n                    totalItems = parseInt(arr1[1]);\r\n            }\r\n        }\r\n        return {\r\n            top: top,\r\n            skip: skip,\r\n            totalItems: totalItems\r\n        }\r\n    }\r\n}","\"use strict\";\r\n\r\nconst ThingDeletedStates = {\r\n\tNoMatter  : 0,  // Interna state. Do not useful for external usage\r\n\tOk        : 1,\r\n\tDeleted   : 2\r\n};\r\nexports.ThingDeletedStates = ThingDeletedStates;\r\n\r\nexports.validateThingDeletedStatus = function validateThingDeletedStatus(deletedStatus) {\r\n\tswitch(deletedStatus) {\r\n\tcase ThingDeletedStates.NoMatter:\r\n\tcase ThingDeletedStates.Ok:\r\n\tcase ThingDeletedStates.Deleted:\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\n\r\n// The User can not have more Roles in the same time\r\nconst ThingUserRoles = {\r\n\tNoMatter      : 0,  // Internal state. Do not use for external use like filter\r\n\tAdministrator : 1,\r\n\tUser          : 2\r\n};\r\nexports.ThingUserRoles = ThingUserRoles;\r\n\r\nexports.validateThingUserRoles = function validateThingUserRoles(userRole) {\r\n\tswitch(userRole) {\r\n\tcase ThingUserRoles.NoMatter:\r\n\tcase ThingUserRoles.Administrator:\r\n\tcase ThingUserRoles.User:\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\n\r\n// The User can not have more Status at same time\r\nconst ThingUserStates = {\r\n\tNoMatter    : 0,  // Internal state. Do not use for external use like filter\r\n\tOk          : 1,\r\n\tWaitForAuth : 2,\r\n\tDeleted     : 4\r\n};\r\nexports.ThingUserStates = ThingUserStates;\r\n\r\nexports.validateThingUserStatus = function validateThingUserStatus(userStatus) {\r\n\tswitch(userStatus) {\r\n\tcase ThingUserStates.NoMatter:\r\n\tcase ThingUserStates.Ok:\r\n\tcase ThingUserStates.WaitForAuth:\r\n\tcase ThingUserStates.Deleted:\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nconst ThingUserVisibility = {\r\n\tNoMatter  : 0,  // Internal state. Do not use for external use like filter\r\n\tVisible       : 1,\r\n\tHidden        : 2\r\n};\r\nexports.ThingUserVisibility = ThingUserVisibility;\r\n\r\nexports.validateThingUserVisibility = function validateThingUserVisibility(visibility) {\r\n\tswitch(visibility) {\r\n\tcase ThingUserVisibility.NoMatter:\r\n\tcase ThingUserVisibility.Visible:\r\n\tcase ThingUserVisibility.Hidden:\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\n\r\n// Do not have validation function since are bitwise values\r\n\r\nconst ThingUserReadClaims = {\r\n\tNoClaims: 0,\r\n\r\n\tCanReadCreationDate: 2,\r\n\tCanReadName: 4,\r\n\tCanReadDescription: 8,\r\n\tCanReadKind: 16,\r\n\tCanReadValue: 32,\r\n\tCanReadDeletedStatus: 64,\r\n\r\n\tCanReadPublicReadClaims: 2048,\r\n\tCanReadPublicChangeClaims: 4096,\r\n\tCanReadEveryoneReadClaims: 8192,\r\n\tCanReadEveryoneChangeClaims: 16384,\r\n\r\n\tCanReadThingUserRights: 128,\r\n\tCanReadThingUserRole: 256,\r\n\tCanReadThingUserStatus: 512,\r\n\tCanReadThingUserVisibility: 32768,\r\n\r\n\tCanReadThingUserReadClaims: 1024,\r\n\tCanReadThingUserChangeClaims : 1\r\n};\r\n// ShortCut\r\n// INFO: Max int value 0x7FFFFFFF;//2147483647 - 32 bit with sign. Javascript bit manipulation limit\r\nThingUserReadClaims.AllClaims = ThingUserReadClaims.CanReadThingUserChangeClaims |\r\nThingUserReadClaims.CanReadCreationDate | ThingUserReadClaims.CanReadName | ThingUserReadClaims.CanReadDescription |\r\nThingUserReadClaims.CanReadKind | ThingUserReadClaims.CanReadValue | ThingUserReadClaims.CanReadDeletedStatus |\r\nThingUserReadClaims.CanReadThingUserRights | ThingUserReadClaims.CanReadThingUserRole | ThingUserReadClaims.CanReadThingUserVisibility |\r\nThingUserReadClaims.CanReadThingUserStatus | ThingUserReadClaims.CanReadThingUserReadClaims | ThingUserReadClaims.CanReadPublicReadClaims |\r\nThingUserReadClaims.CanReadPublicChangeClaims | ThingUserReadClaims.CanReadEveryoneReadClaims | ThingUserReadClaims.CanReadEveryoneChangeClaims;\r\n\r\nexports.ThingUserReadClaims = ThingUserReadClaims;\r\nexports.validateThingUserReadClaims = (userReadClaims) => {\r\n\treturn userReadClaims <= ThingUserReadClaims.AllClaims && userReadClaims >= ThingUserReadClaims.NoClaims;\r\n};\r\n\r\n// Do not have validation function since are bitwise values\r\nconst ThingUserChangeClaims = {\r\n\tNoClaims: 0,\r\n\r\n\tCanDeleteThing: 1,\r\n\tCanChangeName: 2,\r\n\tCanChangeDescription: 4,\r\n\tCanChangeKind: 8,\r\n\tCanChangeValue: 16,\r\n\tCanChangeDeletedStatus: 32,\r\n\r\n\tCanChangePublicReadClaims: 4096,\r\n\tCanChangePublicChangeClaims: 8192,\r\n\tCanChangeEveryoneReadClaims: 16384,\r\n\tCanChangeEveryoneChangeClaims: 32768,\r\n\r\n\tCanAddThingUserRights: 64,\r\n\tCanDeleteThingUserRights: 128,\r\n\r\n\tCanChangeThingUserRole: 256,\r\n\tCanChangeThingUserStatus: 512,\r\n\tCanChangeThingUserVisibility: 524288,\r\n\r\n\tCanChangeThingUserReadClaims: 1024,\r\n\tCanChangeThingUserChangeClaims: 2048,\r\n\r\n\tCanAddChildrenThing: 65536,\r\n\tCanRemoveChildrenThing: 131072,\r\n\r\n\t// In beta test\r\n\tCanOtherUsersChangeMyThingPos: 262144\r\n};\r\n// ShortCut\r\n// INFO: Max int value 0x7FFFFFFF;//2147483647 - 32 bit with sign. Javascript bit manipulation limit\r\nThingUserChangeClaims.AllClaims = ThingUserChangeClaims.CanDeleteThing | ThingUserChangeClaims.CanChangeName | ThingUserChangeClaims.CanChangeDescription |\r\nThingUserChangeClaims.CanChangeKind | ThingUserChangeClaims.CanChangeValue | ThingUserChangeClaims.CanChangeDeletedStatus |\r\nThingUserChangeClaims.CanAddThingUserRights | ThingUserChangeClaims.CanDeleteThingUserRights | ThingUserChangeClaims.CanChangeThingUserRole | ThingUserChangeClaims.CanChangeThingUserVisibility |\r\nThingUserChangeClaims.CanChangeThingUserStatus | ThingUserChangeClaims.CanChangeThingUserReadClaims | ThingUserChangeClaims.CanChangeThingUserChangeClaims |\r\nThingUserChangeClaims.CanChangePublicReadClaims | ThingUserChangeClaims.CanChangePublicChangeClaims | ThingUserChangeClaims.CanChangeEveryoneReadClaims | ThingUserChangeClaims.CanChangeEveryoneChangeClaims |\r\nThingUserChangeClaims.CanAddChildrenThing | ThingUserChangeClaims.CanRemoveChildrenThing;\r\n\r\nexports.ThingUserChangeClaims = ThingUserChangeClaims;\r\nexports.validateThingUserChangeClaims = (userChangeClaims) => {\r\n\treturn userChangeClaims <= ThingUserChangeClaims.AllClaims && userChangeClaims >= ThingUserChangeClaims.NoClaims;\r\n};\r\n\r\nexports.ThingKind = {\r\n\tNoMatter: \"0\",\r\n\tgenericId : \"1\",\r\n\tgenericTxt : \"the bees are laborious\"\r\n};\r\n\r\nconst DefaultThingPos = Number.MAX_SAFE_INTEGER;\r\nexports.DefaultThingPos = DefaultThingPos;\r\n\r\n\r\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\trequirePromise();\n\treturn typeof Promise.prototype['finally'] === 'function' ? Promise.prototype['finally'] : implementation;\n};\n","module.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","module.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","var has = Object.prototype.hasOwnProperty;\nmodule.exports = function assign(target, source) {\n\tif (Object.assign) {\n\t\treturn Object.assign(target, source);\n\t}\n\tfor (var key in source) {\n\t\tif (has.call(source, key)) {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n};\n","var $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","module.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nrequirePromise();\n\nvar ES = require('es-abstract/es7');\nvar bind = require('function-bind');\n\nvar promiseResolve = function PromiseResolve(C, value) {\n\treturn new C(function (resolve) {\n\t\tresolve(value);\n\t});\n};\n\nvar OriginalPromise = Promise;\n\nvar createThenFinally = function CreateThenFinally(C, onFinally) {\n\treturn function (value) {\n\t\tvar result = onFinally();\n\t\tvar promise = promiseResolve(C, result);\n\t\tvar valueThunk = function () {\n\t\t\treturn value;\n\t\t};\n\t\treturn promise.then(valueThunk);\n\t};\n};\n\nvar createCatchFinally = function CreateCatchFinally(C, onFinally) {\n\treturn function (reason) {\n\t\tvar result = onFinally();\n\t\tvar promise = promiseResolve(C, result);\n\t\tvar thrower = function () {\n\t\t\tthrow reason;\n\t\t};\n\t\treturn promise.then(thrower);\n\t};\n};\n\nvar then = bind.call(Function.call, OriginalPromise.prototype.then);\n\nvar promiseFinally = function finally_(onFinally) {\n\t/* eslint no-invalid-this: 0 */\n\n\tvar promise = this;\n\n\tthen(promise, null, function () {}); // throw if IsPromise(this) is false; catch() to avoid unhandled rejection warnings\n\n\tvar C = ES.SpeciesConstructor(promise, OriginalPromise); // may throw\n\n\tvar thenFinally = onFinally;\n\tvar catchFinally = onFinally;\n\tif (ES.IsCallable(onFinally)) {\n\t\tthenFinally = createThenFinally(C, onFinally);\n\t\tcatchFinally = createCatchFinally(C, onFinally);\n\t}\n\n\treturn promise.then(thenFinally, catchFinally);\n};\n\nif (Object.getOwnPropertyDescriptor) {\n\tvar descriptor = Object.getOwnPropertyDescriptor(promiseFinally, 'name');\n\tif (descriptor && descriptor.configurable) {\n\t\tObject.defineProperty(promiseFinally, 'name', { configurable: true, value: 'finally' });\n\t}\n}\n\nmodule.exports = promiseFinally;\n","'use strict';\n\nvar keys = require('object-keys');\nvar foreach = require('foreach');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\nvar toStr = Object.prototype.toString;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\tObject.defineProperty(obj, 'x', { enumerable: false, value: obj });\n        /* eslint-disable no-unused-vars, no-restricted-syntax */\n        for (var _ in obj) { return false; }\n        /* eslint-enable no-unused-vars, no-restricted-syntax */\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = Object.defineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\tObject.defineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = props.concat(Object.getOwnPropertySymbols(map));\n\t}\n\tforeach(props, function (name) {\n\t\tdefineProperty(object, name, map[name], predicates[name]);\n\t});\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","import { shim } from \"promise.prototype.finally\";\r\nshim(); //https://stackoverflow.com/questions/35876549/typescript-type-definition-for-promise-prototype-finally\r\n\r\nexport * from \"../../common/src/thConstants\";\r\nexport * from \"../../common/src/dtos\";\r\n\r\nexport * from \"./realtimeConnectors\";\r\nexport * from \"./helpers\";\r\nexport * from \"./endPointAddress\";\r\nexport * from \"./accountDataContext\";\r\nexport * from \"./accountManager\";\r\nexport * from \"./thing\";\r\nexport * from \"./thingsDataContext\";\r\nexport * from \"./thingsManager\";","import { HttpRequestCanceler, ItemsRange, HttpFailResult } from \"./helpers\";\r\nimport { ThingsGetParams, ThingsDTOsDataSet, ThingsDataContext } from \"./thingsDataContext\";\r\nimport { RealtimeConnector } from \"./realtimeConnectors\";\r\nimport { Thing, ThingUserReadClaims, ThingUserChangeClaims, ThingDeletedStates, ThingDTO } from \".\";\r\n\r\nexport interface ThingClaims {\r\n\r\n    publicReadClaims : ThingUserReadClaims;\r\n    publicChangeClaims: ThingUserChangeClaims;\r\n    everyoneReadClaims: ThingUserReadClaims;\r\n    everyoneChangeClaims: ThingUserChangeClaims;\r\n    \r\n    creatorUserReadClaims: ThingUserReadClaims;\r\n    creatorUserChangeClaims: ThingUserChangeClaims;\r\n}\r\n\r\nexport interface ThingsDataSet {\r\n    things:  Thing[];\r\n    itemsRange: ItemsRange\r\n}\r\n\r\nexport class ThingsManager {\r\n    \r\n    private getThingsParams: ThingsGetParams;\r\n    private getChindrenThingsParams: ThingsGetParams;\r\n\r\n    constructor(private mainThing: Thing, \r\n        private thingKind : string, \r\n        private thingClaims : ThingClaims,\r\n        private thingsDataContext: ThingsDataContext,\r\n        private realtimeConnector: RealtimeConnector\r\n    ) {\r\n        this.getThingsParams = {\r\n            // Viene sovrascritto da thingsManager\r\n            parentThingId: null,\r\n            thingFilter: {$and: [{kind: this.thingKind}, {deletedStatus: ThingDeletedStates.Ok}]},\r\n            top: 10,\r\n            skip: 0,\r\n            orderBy: null,\r\n            valueFilter: null\r\n        }\r\n        this.getChindrenThingsParams = {\r\n            // Viene sovrascritto da thingsManager\r\n            parentThingId: null,\r\n            thingFilter: {deletedStatus: ThingDeletedStates.Ok},\r\n            top: 10,\r\n            // Viene sovrascritto da thingsManager\r\n            skip: 0,\r\n            orderBy: null,\r\n            valueFilter: null\r\n        }\r\n\r\n        this.realtimeConnector.setHook(\"onCreateThing\", this.onCreateThing);\r\n    }\r\n\r\n    private onCreateThing = (thingDTO: ThingDTO) : void => {\r\n        if (thingDTO.kind === this.thingKind) {\r\n            this.mainThing.addThingChild(thingDTO);\r\n            return;\r\n        }\r\n    }\r\n\r\n    private async getThings(parameter: ThingsGetParams , canceler: HttpRequestCanceler) : Promise<ThingsDataSet> {\r\n\r\n        let thingsDTOsDataSet : ThingsDTOsDataSet = null\r\n        let things : Thing[] = []\r\n        \r\n        try {\r\n\r\n            thingsDTOsDataSet = await this.thingsDataContext.getThings(parameter, canceler);\r\n            \r\n            for (let i = 0; i < thingsDTOsDataSet.things.length; i++) {\r\n                var thing = new Thing(thingsDTOsDataSet.things[i])\r\n                things.push(thing)\r\n            }\r\n        }\r\n        catch(e) {\r\n            throw e as HttpFailResult\r\n        }\r\n\r\n        return {\r\n            things : things,\r\n            itemsRange: thingsDTOsDataSet.itemsRange\r\n        }\r\n    }\r\n\r\n    // INFO: Fills parentThing\r\n    // INFO: \"thing.children\" is filled filtered by \"this.getChindrenThingsParams\"\r\n    public getMoreThingChildren(parentThing : Thing, parameter: ThingsGetParams, canceler: HttpRequestCanceler) : Promise<ThingsDataSet> {\r\n\r\n        parameter.skip = parentThing.childrenSkip;\r\n        parameter.parentThingId = parentThing.id;\r\n\r\n        return this.getThings(parameter, canceler)\r\n        .then(function (thingsDataSet : ThingsDataSet) : ThingsDataSet  {\r\n\r\n            parentThing.childrenTotalItems = thingsDataSet.itemsRange.totalItems;\r\n            parentThing.childrenSkip = parentThing.childrenSkip + parameter.top;\r\n            //  Fix range\r\n            if (parentThing.childrenSkip > parentThing.childrenTotalItems)\r\n                parentThing.childrenSkip = parentThing.childrenTotalItems;            \r\n\r\n            for (var i = 0; i < thingsDataSet.things.length;i++)\r\n                parentThing.children.push(thingsDataSet.things[i]);   \r\n\r\n            return thingsDataSet;\r\n        });\r\n    }\r\n    // INFO:    In Books example where \"this.mainThing\" in a \"root thing\" \r\n    //          \"getMoreThings\" fills \"this.mainThing.children\" with \"books\" collection \r\n    //          and \"this.mainThing.children[0..n].children\" with \"things\" collection like \"book comments\"\r\n    public getMoreThings = (canceler : HttpRequestCanceler) : Promise<ThingsDataSet[]> => {\r\n        \r\n        let self = this;\r\n\r\n        return new Promise<ThingsDataSet[]>((resolve, reject) => {\r\n\r\n            this.getMoreThingChildren(this.mainThing, this.getThingsParams, canceler)\r\n            .then(function (data : ThingsDataSet) : any {\r\n\r\n                let promises : Promise<ThingsDataSet>[] = [];\r\n\r\n                // Try to get all things children\r\n                for (let i = 0; i < data.things.length; i++)\r\n                    promises.push(self.getMoreThingChildren(data.things[i], self.getChindrenThingsParams, canceler));\r\n\r\n                Promise.all(promises)\r\n                .then(function(data : ThingsDataSet[]) : any {\r\n                    resolve(data);\r\n                    return data;\r\n                })\r\n                .catch(function(data) : HttpFailResult {\r\n                    reject(data);\r\n                    return data;\r\n                });\r\n\r\n                return data;\r\n                \r\n            })\r\n            .catch(function(data) : HttpFailResult {\r\n                reject(data);\r\n                return data;\r\n            })\r\n        });\r\n    }\r\n\r\n    public getThingsTotalItems() : Number {\r\n        return this.mainThing.childrenTotalItems;\r\n    }\r\n}","import axios, { AxiosRequestConfig, AxiosPromise, CancelToken } from \"axios\";\r\nimport {HttpRequestCanceler, HttpFailResult, ItemsRange, Helpers} from \"./helpers\";\r\nimport {EndPointAddress} from \"./endPointAddress\";\r\nimport {ThingDTO} from \"../../common/src/dtos\";\r\nimport {ThingPositionRaw} from \"./thingPosition\";\r\n\r\nexport interface ThingsGetParams {\r\n    parentThingId : string;\r\n    thingFilter : object;\r\n    valueFilter : object;\r\n    orderBy : string;\r\n    skip : number;\r\n    top : number;\r\n}\r\n\r\nexport interface ThingsDTOsDataSet {\r\n    things:  ThingDTO[];\r\n    itemsRange: ItemsRange\r\n}\r\n\r\nexport class ThingsDataContext {\r\n\r\n    private apiEndPointAddress: string = \"\";\r\n    private securityHeaderHook: () => object = null;\r\n    \r\n    private thingsUrl(thingId?: string) : string { \r\n        return this.apiEndPointAddress + \"/things/\" + (thingId || \"\"); \r\n    }\r\n    private thingsValueUrl(thingId: string) : string { \r\n        return this.apiEndPointAddress + \"/things/\" + thingId + \"/value\" \r\n    }\r\n    private thingsPositionsUrl() : string {\r\n        return this.apiEndPointAddress + \"/things/positions\" \r\n    }\r\n    private thingChildrenUrl(parentThingId: string, childrenId?: string) {\r\n        return this.apiEndPointAddress + \"/things/\" + (parentThingId) + \"/childrenIds/\" + (childrenId || \"\");\r\n    }\r\n    private thingDeleteChildUrl(parentThingId: string, childThingId: string) {\r\n        return this.apiEndPointAddress + \"/things/\" + parentThingId + \"/childrenIds/\" + childThingId \r\n    }\r\n\r\n    public  constructor(endPointAddress: EndPointAddress, securityHeaderHook: () => object) {\r\n\r\n        this.apiEndPointAddress = endPointAddress.api;\r\n        this.securityHeaderHook = securityHeaderHook;\r\n    }\r\n\r\n    public  getThing(thingId: string) : Promise<ThingDTO | HttpFailResult> {\r\n        return axios.get(this.thingsUrl(thingId), {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : ThingDTO {\r\n            return response.data;\r\n        })\r\n    }\r\n    // INFO: To abort call \"canceler.cancel()\"\r\n    public  getThings(parameter: ThingsGetParams, canceler?: HttpRequestCanceler) : Promise<ThingsDTOsDataSet | HttpFailResult> {\r\n        \r\n        var urlRaw = this.thingsUrl() + \"?\" +\r\n                (!!parameter.parentThingId ? (\"&parentThingId=\" + parameter.parentThingId) : \"\") +\r\n                (!!parameter.thingFilter ? (\"&thingFilter=\" + JSON.stringify(parameter.thingFilter)) : \"\") +\r\n                (!!parameter.valueFilter ? (\"&valueFilter=\" + JSON.stringify(parameter.valueFilter)) : \"\") +                \r\n                (!!parameter.orderBy ? (\"&orderBy=\" + parameter.orderBy) : \"\") +\r\n                (!!parameter.skip ? (\"&skip=\" + parameter.skip) : \"\") +\r\n                (!!parameter.top ? (\"&top=\" + parameter.top) : \"\");\r\n\r\n        if (canceler)\r\n            canceler.setup();\r\n\r\n        return axios.get(urlRaw, {\r\n                headers: this.securityHeaderHook(),\r\n                cancelToken: (canceler) ? canceler.cancelerToken : null\r\n            })\r\n        .then(function(response: any) : ThingsDTOsDataSet {\r\n            return {\r\n                things: response.data,\r\n                itemsRange: Helpers.getRangeItemsFromResponse(response)\r\n            }\r\n        })\r\n        .finally(function() {\r\n            /*\r\n            if (canceler)\r\n                canceler.reset();\r\n            */\r\n        });\r\n    }\r\n    \r\n    // TOCHECK: Check Returned data\r\n    public  createThing(ThingDTO: ThingDTO) : Promise<ThingDTO | HttpFailResult> {\r\n        return axios.post(this.thingsUrl(), ThingDTO, {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : ThingDTO {            \r\n            return response.data;\r\n        })\r\n    }\r\n    // TOCHECK: Check Returned data\r\n    public  updateThing(thingId: string, ThingDTO: ThingDTO) : Promise<ThingDTO | HttpFailResult> {\r\n        return axios.put(this.thingsUrl(thingId), ThingDTO, {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : ThingDTO {            \r\n            return response.data;\r\n        });\r\n    }\r\n    // TOCHECK: Check Returned data\r\n    public  deleteThing(thingId: string) : Promise<any | HttpFailResult> {\r\n        return axios.delete(this.thingsUrl(thingId), {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : any {            \r\n            return response.data;\r\n        })\r\n    }\r\n\r\n    // TOCHECK: Check Returned data\r\n    public  getThingChildrenIds(parentThingId : string) : Promise<string[] | HttpFailResult> {\r\n        return axios.get(this.thingChildrenUrl(parentThingId), {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : string[] {\r\n            return response.data;\r\n        })\r\n    }\r\n\r\n    // TOCHECK: Check Returned data\r\n    public  addChildToParent(parentThingId : string, childThingId : string) : Promise<any | HttpFailResult> {\r\n        return axios.post(this.thingChildrenUrl(parentThingId), JSON.stringify(childThingId), {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : any {\r\n            return response.data;\r\n        })\r\n    }\r\n    // TOCHECK: Check Returned data\r\n    public  deleteThingChild(parentThingId : string, childThingId : string) : Promise<any | HttpFailResult> {\r\n        return axios.delete(this.thingDeleteChildUrl(parentThingId, childThingId), {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : any {\r\n            return response.data;\r\n        })\r\n    }\r\n\r\n    public  getThingValue(thingId : string, value: any) : Promise<any | HttpFailResult> {\r\n        return axios.get(this.thingsValueUrl(thingId), {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : any {\r\n            return response.data;\r\n        })\r\n    }\r\n    public  putThingValue(thingId : string, value : any): Promise<any | HttpFailResult> {\r\n        return axios.put(this.thingsValueUrl(thingId), value, {\r\n            headers: this.securityHeaderHook()\r\n        })\r\n        .then(function(response: any) : any {            \r\n            return response.data;\r\n        })\r\n    }\r\n\r\n    // TOCHECK: Check Returned data\r\n    public  putThingsPositions(positions: ThingPositionRaw[]) : Promise<any | HttpFailResult> {\r\n        return axios.put(this.thingsPositionsUrl(), \r\n            positions, \r\n            {\r\n                headers: this.securityHeaderHook()\r\n            })\r\n        .then(function(response: any) : any {            \r\n            return response.data;\r\n        })\r\n    }\r\n}","import {UserInfo} from \"./userInfo\";\r\n//import * as thConstants from \"../../common/src/thConstants\";\r\nimport {ThingDeletedStates, \r\n\tThingUserReadClaims, ThingUserChangeClaims, \r\n\tThingUserStates, ThingUserRoles,\r\n\tThingUserVisibility} from \"../../common/src/thConstants\";\r\nimport {ThingDTO} from \"../../common/src/dtos\";\r\n\r\nexport class Thing {\r\n\r\n    public childrenSkip: number = 0\r\n    public childrenTotalItems = Number.MAX_SAFE_INTEGER\r\n\r\n    public children : Thing[] = []\r\n\r\n    public id: string = \"\"\r\n    \r\n    public creationDateTime: Date\r\n\r\n    public name:string = \"\"\r\n\r\n    public kind: string = \"\"\r\n\r\n    public pos: number = 0\r\n\r\n    public deletedStatus : ThingDeletedStates = ThingDeletedStates.NoMatter\r\n    public deletedDateTime : Date\r\n\r\n    public publicReadClaims : ThingUserReadClaims = ThingUserReadClaims.NoClaims\r\n    public publicChangeClaims : ThingUserChangeClaims = ThingUserChangeClaims.NoClaims\r\n\r\n    public everyoneReadClaims : ThingUserReadClaims = ThingUserReadClaims.NoClaims\r\n    public everyoneChangeClaims : ThingUserChangeClaims = ThingUserChangeClaims.NoClaims\r\n\r\n    public userStatus : ThingUserStates = ThingUserStates.NoMatter\r\n    public userRole : ThingUserRoles = ThingUserRoles.NoMatter\r\n    public userVisibility: ThingUserVisibility = ThingUserVisibility.NoMatter\r\n\r\n    public userReadClaims: ThingUserReadClaims = ThingUserReadClaims.NoClaims\r\n    public userChangeClaims: ThingUserChangeClaims = ThingUserChangeClaims.NoClaims\r\n\r\n    public usersInfos : UserInfo[] = []\r\n    \r\n    public value: any = {}\r\n\r\n    constructor(thingDTO? : ThingDTO) {\r\n        if (thingDTO) {\r\n            Object.assign(this, thingDTO);\r\n            if (thingDTO.value)\r\n                this.value = thingDTO.value;\r\n        }\r\n    }\r\n\r\n    public addThingChild(thingChildDTO : ThingDTO) {\r\n        this.children.unshift(new Thing(thingChildDTO));\r\n    }\r\n\r\n    public collapse() : void {\r\n        this.childrenSkip = 0;\r\n\r\n        // INFO: Not reset \"this.childrenTotalItems = Number.MAX_SAFE_INTEGER\" to trace potential Children number\r\n        // this.childrenTotalItems = Number.MAX_SAFE_INTEGER;\r\n\r\n        // INFO: Useful to maintain original internal array ref\r\n        this.children.splice(0, this.children.length);\r\n    }\r\n\r\n    public shallowCopy() : Thing {\r\n\r\n        let copyThing : Thing = new Thing();\r\n\r\n        Object.assign(copyThing, this);\r\n\r\n        return copyThing;\r\n    }\r\n}","import axios from \"axios\";\r\nimport * as jwtDecode from \"jwt-decode\";\r\nimport {HttpFailResult} from \"./helpers\";\r\nimport {AccountDataContext, AccountUserData} from \"./accountDataContext\";\r\n\r\nexport class AccountManager {\r\n\r\n    private dummy: string = \"carmelo\";\r\n\r\n    private accountDataContext: AccountDataContext;\r\n    \r\n    private _appName: string = null;    \r\n\r\n    private _accessToken:string = null;\r\n\r\n    private _userId: string = null;\r\n    private _userName: string = null;\r\n    \r\n    //INFO: apiKey is never persistent\r\n    private _apiKey : string = null;\r\n\r\n    //TODO: Why is public?\r\n    public resetLoginData() : void {\r\n\r\n        this._accessToken = null;\r\n\r\n        this._userId = null;\r\n        this._userName = null;\r\n\r\n        localStorage.removeItem(this._appName + \"_Remember\");\r\n\r\n        localStorage.removeItem(this._appName + \"_AccessToken\");\r\n        sessionStorage.removeItem(this._appName + \"_AccessToken\");        \r\n\r\n        localStorage.removeItem(this._appName + \"_UserId\");\r\n        sessionStorage.removeItem(this._appName + \"_UserId\");\r\n        localStorage.removeItem(this._appName + \"_Username\");\r\n        sessionStorage.removeItem(this._appName + \"_Username\");\r\n    }\r\n    private setLoginData(accountUserData: AccountUserData, remember: boolean) : void {\r\n        \r\n        this._apiKey = null;\r\n\r\n        this._accessToken = accountUserData.accessToken;\r\n\r\n        this._userId = accountUserData.id;\r\n        this._userName = accountUserData.name;\r\n\r\n        sessionStorage.setItem(this._appName + \"_AccessToken\", this._accessToken);\r\n\r\n        sessionStorage.setItem(this._appName + \"_UserId\", this._userId);\r\n        sessionStorage.setItem(this._appName + \"_Username\", this._userName);\r\n\r\n        localStorage.setItem(this._appName + \"_Remember\", remember == true ? \"true\" : \"false\");\r\n\r\n        if (remember == false)\r\n            return\r\n\r\n        localStorage.setItem(this._appName + \"_AccessToken\", this._accessToken);\r\n\r\n        localStorage.setItem(this._appName + \"_UserId\", this._userId);\r\n        localStorage.setItem(this._appName + \"_Username\", this._userName);\r\n    }\r\n    private getLoginData(apiKey?: string): void {\r\n\r\n        if (apiKey) {\r\n            // Sanity check\r\n            this.resetLoginData();\r\n            // INFO: By design ApiKey is never persistent\r\n            this._apiKey = apiKey;\r\n            return;\r\n        }\r\n\r\n        this._apiKey = null;\r\n\r\n        this._accessToken = sessionStorage.getItem(this._appName + \"_AccessToken\");\r\n\r\n        this._userId = sessionStorage.getItem(this._appName + \"_UserId\");\r\n        this._userName = sessionStorage.getItem(this._appName + \"_Username\");\r\n\r\n        if (this.remember == false)\r\n            return;\r\n\r\n        this._accessToken = localStorage.getItem(this._appName + \"_AccessToken\");\r\n\r\n        this._userId = localStorage.getItem(this._appName + \"_UserId\");\r\n        this._userName = localStorage.getItem(this._appName + \"_Username\");\r\n    }\r\n\r\n    constructor(appName: string, accountDataContext: AccountDataContext, apiKey?: string) {\r\n\r\n        this._appName = appName;\r\n        this.accountDataContext = accountDataContext;\r\n\r\n        this.getLoginData(apiKey);\r\n\r\n        if (this.apiKey)\r\n            return;\r\n\r\n        if (!this.accessToken)\r\n            return;\r\n\r\n        const accountUserDataRaw: any = jwtDecode(this.accessToken);\r\n\r\n        let dateNow = new Date();\r\n        if (accountUserDataRaw.exp < Math.trunc(dateNow.getTime()/1000)) {\r\n            this.resetLoginData();\r\n        }\r\n    }       \r\n\r\n    public get apiKey() : string {\r\n        return this._apiKey;\r\n    }\r\n    public get accessToken() : string {\r\n        return this._accessToken;\r\n    }\r\n\r\n    public getSecurityHeader = (): object => {\r\n        return this.apiKey ? { thapikey: this.apiKey } : { Authorization: \"Bearer \" + this.accessToken} ;\r\n    }\r\n    public getSecurityToken = (): string => {\r\n        return this.apiKey ? \"token=\" + this.apiKey : \"token=\" + this.accessToken;\r\n    }\r\n\r\n    public get isLoggedIn() : boolean {\r\n        if (this.apiKey)\r\n            return true;\r\n\r\n        if (!this.accessToken)\r\n            return false;\r\n\r\n        const accountUserDataRaw: any = jwtDecode(this.accessToken);\r\n\r\n        let dateNow = new Date();\r\n        let dateNowN = Math.trunc(dateNow.getTime()/1000);\r\n        if (accountUserDataRaw.exp < Math.trunc(dateNow.getTime()/1000))\r\n            return false;\r\n        return true;\r\n    }\r\n\r\n    public get remember() : boolean {\r\n        return localStorage.getItem(this._appName + \"_Remember\") == \"true\" ? true : false;\r\n    }\r\n    public async login(username: string, password: string, remember: boolean) : Promise<AccountUserData> {\r\n\r\n        this._apiKey =  null;\r\n        this.resetLoginData();\r\n\r\n        const accountUserData: AccountUserData = await this.accountDataContext.login(username, password);\r\n\r\n        this.setLoginData(accountUserData, remember);\r\n        return accountUserData;\r\n    }  \r\n    public async logout() : Promise<any> {\r\n        try\r\n        {\r\n            return await this.accountDataContext.logout();\r\n        }\r\n        finally {\r\n            this._apiKey = null;\r\n            this.resetLoginData();\r\n        }\r\n    }\r\n}\r\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","import * as qs from \"qs\"\r\nimport axios from \"axios\";\r\nimport * as jwtDecode from \"jwt-decode\";\r\nimport {HttpFailResult, Helpers} from \"./helpers\";\r\nimport {EndPointAddress} from \"./endPointAddress\";\r\n\r\nexport interface AccountUserData {\r\n    accessToken: string;\r\n    id: string;\r\n    name: string;\r\n    exp: Date;\r\n}\r\n\r\nexport interface AccountActionControl {\r\n    getSecurityHeader: () => object;\r\n    refreshToken: () => Promise<any>;\r\n    resetApp: () => void;\r\n}\r\n\r\nexport class AccountDataContext {\r\n\r\n    private accountUrl:string = \"\";\r\n\r\n    private authTokenRequest: Promise<any>;\r\n\r\n    private getNewAccessToken() {\r\n\r\n        if (!this.authTokenRequest) {\r\n            this.authTokenRequest = this.accountActionControl.refreshToken();\r\n            this.authTokenRequest.then(response => {\r\n              this.authTokenRequest = null;\r\n            }).catch(error => {\r\n              this.authTokenRequest = null;\r\n            });\r\n        }\r\n        return this.authTokenRequest;\r\n    }\r\n\r\n    constructor(endPointAddress: EndPointAddress, private accountActionControl?: AccountActionControl) {\r\n\r\n        this.accountUrl = endPointAddress.api + \"/account\";\r\n\r\n        axios.interceptors.response.use((response) => {\r\n            return response;\r\n          },\r\n          err => {\r\n              const error = err.response;\r\n              if (accountActionControl && error && error.status === 401 && error.config && !error.config.__isRetryRequest) {\r\n      \r\n                return this.getNewAccessToken().then(response => {\r\n                    error.config.__isRetryRequest = true;\r\n      \r\n                    // set new access token after refreshing it\r\n                    error.config.headers = this.accountActionControl.getSecurityHeader();\r\n      \r\n                    return axios(error.config);\r\n                }).catch(e => {\r\n      \r\n                    // refreshing has failed => redirect to login\r\n                    // clear cookie (with logout action) and return to identityserver to new login\r\n                    // (window as any).location = \"/account/logout\";\r\n\r\n                    // TODO: Can be called many times - https://docs.google.com/spreadsheets/d/1Ks-K10kmLcHOom7igTkQ8wtRSJ-73i1hftUAE4E9q80/edit#gid=1455384855&range=D7\r\n                    this.accountActionControl.resetApp();\r\n      \r\n                    return Promise.reject(e);\r\n                });\r\n              }\r\n      \r\n              return Promise.reject(error);\r\n          });\r\n    }\r\n\r\n    // TODO: https://docs.google.com/spreadsheets/d/1Ks-K10kmLcHOom7igTkQ8wtRSJ-73i1hftUAE4E9q80/edit#gid=1455384855&range=C4\r\n    public login(username: string, password: string) : Promise<AccountUserData | HttpFailResult> {\r\n        let loginData = {\r\n            username,\r\n            password\r\n        };\r\n        const config = {\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n            },\r\n            __isRetryRequest: true\r\n        };\r\n        return axios.post(this.accountUrl + \"/login\",qs.stringify(loginData), config)\r\n        .then(function(response) : AccountUserData {\r\n\r\n            const accountUserDataRaw: any = jwtDecode(response.data.access_token);\r\n\r\n            return {\r\n                accessToken: response.data.access_token,\r\n                id: accountUserDataRaw.sub,\r\n                name: accountUserDataRaw.name,\r\n                exp: accountUserDataRaw.exp\r\n            };\r\n        });\r\n    }\r\n    // TODO: To check\r\n    public loginBasic(username: string, password: string) : Promise<any | HttpFailResult> {\r\n        return axios.post(this.accountUrl + \"/login\",\"grant_type=client_credentials\", {\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                \"Authorization\": \"Basic \" + btoa(username + \":\" + password)\r\n            }\r\n        })\r\n        .then(function(response) : any {\r\n            return response.data;\r\n        });\r\n    }\r\n    public logout() : Promise<any | HttpFailResult> {\r\n        return axios.post(this.accountUrl + \"/logout\", null, {\r\n            headers: this.accountActionControl ? this.accountActionControl.getSecurityHeader() : null\r\n        })\r\n        .then(function(response: any) : any {\r\n            return response.data;\r\n        });\r\n    }\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__30__;","import axios, { AxiosRequestConfig, AxiosPromise } from \"axios\";\r\nimport * as socketIo from \"socket.io-client\";\r\n\r\nexport const enum RealtimeConnectionStates {\r\n    Connecting = 0,\r\n    Connected = 1,\r\n    Reconnecting = 2,\r\n    Disconnected = 4\r\n}\r\n\r\nexport class RealtimeConnector {\r\n\r\n    protected connectionStatus : RealtimeConnectionStates = RealtimeConnectionStates.Disconnected;\r\n\r\n    protected url: string = \"\";//   https://servername:port/route\r\n    \r\n    protected authHook: () => void = null;\r\n\r\n    protected errorHook: (error: any) => void = null;\r\n    protected stateChangedHook: (newState: RealtimeConnectionStates) => void = null;\r\n    protected connectErrorHook: (error: any) => void = null;\r\n\r\n    protected on_connectionStatusChange(newState : RealtimeConnectionStates) {\r\n        if (this.connectionStatus == newState)\r\n            return;\r\n        \r\n        this.connectionStatus = newState;\r\n        this.stateChangedHook(newState);\r\n    }\r\n\r\n    public subscribe() : void {}\r\n    public unsubscribe() : void {}\r\n\r\n    public setHook(eventName : string, hook : (...msg: any[]) => void) : void {}\r\n    public remHook(eventName : any, hook : (...msg: any[]) => void) : void {}\r\n\r\n    constructor(url : string,\r\n        authHook : () => void,\r\n        errorHook : (error) => void,\r\n        connectErrorHook : (error) => void,\r\n        stateChangedHook : (change: RealtimeConnectionStates) => void) {\r\n\r\n            this.url = url;\r\n\r\n            this.authHook = authHook;\r\n            \r\n            this.errorHook = errorHook;\r\n            this.connectErrorHook = connectErrorHook;\r\n            this.stateChangedHook = stateChangedHook;\r\n    }\r\n\r\n    public api() : Promise<any | any> {\r\n        return axios.get(this.url + \"/api\")\r\n        .then((response : any) => {return response; });\r\n    }\r\n}\r\n\r\nexport class SocketIORealtimeConnector extends RealtimeConnector {\r\n    \r\n    private socket : SocketIOClient.Socket = null;\r\n    \r\n    constructor(url : string,\r\n        authHook : () => void,\r\n        errorHook : (error) => void,\r\n        connectErrorHook : (error) => void,\r\n        stateChangedHook : (change: RealtimeConnectionStates) => void) {\r\n            super(url, authHook, errorHook, connectErrorHook, stateChangedHook);\r\n    }\r\n\r\n    private on_error(error) {\r\n        if (this.errorHook)\r\n            this.errorHook(error);\r\n    }\r\n    private on_connect_error(error) {\r\n        if (this.connectErrorHook)\r\n            this.connectErrorHook(error);\r\n    }\r\n\r\n    private on_connect() {\r\n        if (this.on_connectionStatusChange)\r\n            this.on_connectionStatusChange(RealtimeConnectionStates.Connected);\r\n    }\r\n    private on_disconnect(reason) {\r\n        if (this.on_connectionStatusChange)\r\n            this.on_connectionStatusChange(RealtimeConnectionStates.Disconnected);\r\n    }\r\n\r\n    public subscribe() : void {\r\n        if (this.socket)\r\n            return;\r\n\r\n        let fullUrl = this.url + \"?\" + this.authHook();\r\n        this.socket = socketIo(fullUrl);\r\n\r\n        this.socket.on(\"error\", error => this.on_error(error));\r\n\r\n        this.socket.on(\"connect_error\", error => this.on_connect_error(error));\r\n        this.socket.on(\"connect\", () => this.on_connect());\r\n        this.socket.on(\"disconnect\", reason => this.on_disconnect(reason));\r\n    }\r\n    public unsubscribe() : void {\r\n        if (!this.socket)\r\n            return;\r\n\r\n        this.socket.disconnect();\r\n    }\r\n\r\n    public setHook(eventName : string, hook : (...msg: any[]) => void) : void {\r\n        this.socket.on(eventName, hook);\r\n    }\r\n    public remHook(eventName : any, hook : (...msg: any[]) => void) : void {\r\n        this.socket.off(eventName, hook);\r\n    }\r\n}","\"use strict\";\r\n\r\nconst thConstants = require(\"./thConstants\");\r\n\r\nexports.RegisterByOnlyEmailStatus = {\r\n\tUserAlreadyRegistered : 1,\r\n\tConfirmPendingEmailSent : 2,\r\n};\r\n\r\nclass RegisterByOnlyEmailDTO {\r\n\tconstructor(email, confirmationToken, status) {\r\n\t\tthis.email = email;\r\n\t\tthis.confirmationToken = confirmationToken;\r\n\t\tthis.status = status;\r\n\t}\r\n}\r\nexports.RegisterByOnlyEmailDTO = RegisterByOnlyEmailDTO;\r\n\r\nclass EmailDTO {\r\n\tconstructor(email) {\r\n\t\tthis.value = email.email;\r\n\t\tthis.isConfimed = email.isConfimed;\r\n\t}\r\n}\r\nexports.EmailDTO = EmailDTO;\r\n\r\nclass UserDTO { \r\n\tconstructor(user, fullInfos) {\r\n\t\tthis.id = user._id;\r\n\t\tthis.name = user.name;\r\n  \r\n\t\tif (!fullInfos) {\r\n\t\t\treturn;\r\n\t\t}\r\n  \r\n\t\tthis.emails = [];\r\n\t\tthis.username = user.userName;\r\n\t\tuser.emails.foreach(email => this.emails.push(new EmailDTO(email)));\r\n\t\tthis.masterApiKey = user.masterApiKey;\r\n\t}\r\n}\r\nexports.UserDTO = UserDTO;\r\n\r\nclass UserInfoDTO {\r\n\tconstructor() {\r\n\t\r\n\t\tthis.id = \"\";\r\n\t\tthis.name = \"the bees are laborious\";\r\n\t}\r\n}\r\nexports.UserInfoDTO = UserInfoDTO;\r\n\r\nclass ThingDTO {\r\n\tconstructor() {\r\n\t\t\r\n\t\tthis.id = \"\";\r\n\r\n\t\tthis.creationDate = null;\r\n\t\t\r\n\t\tthis.name = \"\";\r\n\t\t\r\n\t\tthis.kind = thConstants.ThingKind.genericId;\r\n\t\t\r\n\t\tthis.pos = 0;// Not used during creation or updating of thing\r\n\t\t\r\n\t\tthis.deletedStatus = thConstants.ThingDeletedStates.NoMatter;\r\n\t\tthis.deletedDate = null;\r\n\t\t\r\n\t\tthis.publicReadClaims = thConstants.ThingUserReadClaims.NoClaims;\r\n\t\tthis.publicChangeClaims = thConstants.ThingUserChangeClaims.NoClaims;\r\n\t\t\r\n\t\tthis.everyoneReadClaims = thConstants.ThingUserReadClaims.NoClaims;\r\n\t\tthis.everyoneChangeClaims = thConstants.ThingUserChangeClaims.NoClaims;\r\n\t\t\r\n\t\tthis.value = {};\r\n\t\t\r\n\t\tthis.userStatus = thConstants.ThingUserStates.NoMatter;\r\n\t\tthis.userRole = thConstants.ThingUserRoles.NoMatter;\r\n\t\tthis.userVisibility = thConstants.ThingUserVisibility.NoMatter;\r\n\t\t\r\n\t\tthis.userReadClaims = thConstants.ThingUserReadClaims.NoClaims;\r\n\t\tthis.userChangeClaims = thConstants.ThingUserChangeClaims.NoClaims;\r\n\t\t\r\n\t\tthis.usersInfos = []; // Not used during creation or updating of thing\r\n\t}\r\n}\r\nexports.ThingDTO = ThingDTO;\r\n\r\n\r\n\r\n","'use strict';\n\nvar requirePromise = require('./requirePromise');\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimPromiseFinally() {\n\trequirePromise();\n\n\tvar polyfill = getPolyfill();\n\tdefine(Promise.prototype, { 'finally': polyfill }, {\n\t\t'finally': function testFinally() {\n\t\t\treturn Promise.prototype['finally'] !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// https://es5.github.io/#x8.12\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O, hint) {\n\t\tvar actualHint = hint || (toStr.call(O) === '[object Date]' ? String : Number);\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// https://es5.github.io/#x9\nmodule.exports = function ToPrimitive(input, PreferredType) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input, PreferredType);\n};\n","'use strict';\n\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\n\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn Number(value);\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\tif (this.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\t\t// jscs:disable\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t// jscs:enable\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t}\n};\n\nmodule.exports = ES5;\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') { return false; }\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') { return true; }\n\t\tif (toStr.call(value) !== '[object Symbol]') { return false; }\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false;\n\t};\n}\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar isPrimitive = require('./helpers/isPrimitive');\nvar isCallable = require('is-callable');\nvar isDate = require('is-date-object');\nvar isSymbol = require('is-symbol');\n\nvar ordinaryToPrimitive = function OrdinaryToPrimitive(O, hint) {\n\tif (typeof O === 'undefined' || O === null) {\n\t\tthrow new TypeError('Cannot call method on ' + O);\n\t}\n\tif (typeof hint !== 'string' || (hint !== 'number' && hint !== 'string')) {\n\t\tthrow new TypeError('hint must be \"string\" or \"number\"');\n\t}\n\tvar methodNames = hint === 'string' ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\tvar method, result, i;\n\tfor (i = 0; i < methodNames.length; ++i) {\n\t\tmethod = O[methodNames[i]];\n\t\tif (isCallable(method)) {\n\t\t\tresult = method.call(O);\n\t\t\tif (isPrimitive(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\tthrow new TypeError('No default value');\n};\n\nvar GetMethod = function GetMethod(O, P) {\n\tvar func = O[P];\n\tif (func !== null && typeof func !== 'undefined') {\n\t\tif (!isCallable(func)) {\n\t\t\tthrow new TypeError(func + ' returned for property ' + P + ' of object ' + O + ' is not a function');\n\t\t}\n\t\treturn func;\n\t}\n};\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive\nmodule.exports = function ToPrimitive(input, PreferredType) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tvar hint = 'default';\n\tif (arguments.length > 1) {\n\t\tif (PreferredType === String) {\n\t\t\thint = 'string';\n\t\t} else if (PreferredType === Number) {\n\t\t\thint = 'number';\n\t\t}\n\t}\n\n\tvar exoticToPrim;\n\tif (hasSymbols) {\n\t\tif (Symbol.toPrimitive) {\n\t\t\texoticToPrim = GetMethod(input, Symbol.toPrimitive);\n\t\t} else if (isSymbol(input)) {\n\t\t\texoticToPrim = Symbol.prototype.valueOf;\n\t\t}\n\t}\n\tif (typeof exoticToPrim !== 'undefined') {\n\t\tvar result = exoticToPrim.call(input, hint);\n\t\tif (isPrimitive(result)) {\n\t\t\treturn result;\n\t\t}\n\t\tthrow new TypeError('unable to convert exotic object to primitive');\n\t}\n\tif (hint === 'default' && (isDate(input) || isSymbol(input))) {\n\t\thint = 'string';\n\t}\n\treturn ordinaryToPrimitive(input, hint === 'default' ? 'number' : hint);\n};\n","'use strict';\n\nvar has = require('has');\nvar toPrimitive = require('es-to-primitive/es6');\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar assign = require('./helpers/assign');\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\nvar isPrimitive = require('./helpers/isPrimitive');\nvar parseInteger = parseInt;\nvar bind = require('function-bind');\nvar arraySlice = bind.call(Function.call, Array.prototype.slice);\nvar strSlice = bind.call(Function.call, String.prototype.slice);\nvar isBinary = bind.call(Function.call, RegExp.prototype.test, /^0b[01]+$/i);\nvar isOctal = bind.call(Function.call, RegExp.prototype.test, /^0o[0-7]+$/i);\nvar regexExec = bind.call(Function.call, RegExp.prototype.exec);\nvar nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\nvar nonWSregex = new RegExp('[' + nonWS + ']', 'g');\nvar hasNonWS = bind.call(Function.call, RegExp.prototype.test, nonWSregex);\nvar invalidHexLiteral = /^[-+]0x[0-9a-f]+$/i;\nvar isInvalidHexLiteral = bind.call(Function.call, RegExp.prototype.test, invalidHexLiteral);\n\n// whitespace from: http://es5.github.io/#x15.5.4.20\n// implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\nvar ws = [\n\t'\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n\t'\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n\t'\\u2029\\uFEFF'\n].join('');\nvar trimRegex = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\nvar replace = bind.call(Function.call, String.prototype.replace);\nvar trim = function (value) {\n\treturn replace(value, trimRegex, '');\n};\n\nvar ES5 = require('./es5');\n\nvar hasRegExpMatcher = require('is-regex');\n\n// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-abstract-operations\nvar ES6 = assign(assign({}, ES5), {\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-call-f-v-args\n\tCall: function Call(F, V) {\n\t\tvar args = arguments.length > 2 ? arguments[2] : [];\n\t\tif (!this.IsCallable(F)) {\n\t\t\tthrow new TypeError(F + ' is not a function');\n\t\t}\n\t\treturn F.apply(V, args);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toprimitive\n\tToPrimitive: toPrimitive,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toboolean\n\t// ToBoolean: ES5.ToBoolean,\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-tonumber\n\tToNumber: function ToNumber(argument) {\n\t\tvar value = isPrimitive(argument) ? argument : toPrimitive(argument, Number);\n\t\tif (typeof value === 'symbol') {\n\t\t\tthrow new TypeError('Cannot convert a Symbol value to a number');\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\tif (isBinary(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 2));\n\t\t\t} else if (isOctal(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 8));\n\t\t\t} else if (hasNonWS(value) || isInvalidHexLiteral(value)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar trimmed = trim(value);\n\t\t\t\tif (trimmed !== value) {\n\t\t\t\t\treturn this.ToNumber(trimmed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Number(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tointeger\n\t// ToInteger: ES5.ToNumber,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint32\n\t// ToInt32: ES5.ToInt32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint32\n\t// ToUint32: ES5.ToUint32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint16\n\tToInt16: function ToInt16(argument) {\n\t\tvar int16bit = this.ToUint16(argument);\n\t\treturn int16bit >= 0x8000 ? int16bit - 0x10000 : int16bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint16\n\t// ToUint16: ES5.ToUint16,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint8\n\tToInt8: function ToInt8(argument) {\n\t\tvar int8bit = this.ToUint8(argument);\n\t\treturn int8bit >= 0x80 ? int8bit - 0x100 : int8bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8\n\tToUint8: function ToUint8(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x100);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8clamp\n\tToUint8Clamp: function ToUint8Clamp(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number <= 0) { return 0; }\n\t\tif (number >= 0xFF) { return 0xFF; }\n\t\tvar f = Math.floor(argument);\n\t\tif (f + 0.5 < number) { return f + 1; }\n\t\tif (number < f + 0.5) { return f; }\n\t\tif (f % 2 !== 0) { return f + 1; }\n\t\treturn f;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tostring\n\tToString: function ToString(argument) {\n\t\tif (typeof argument === 'symbol') {\n\t\t\tthrow new TypeError('Cannot convert a Symbol value to a string');\n\t\t}\n\t\treturn String(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toobject\n\tToObject: function ToObject(value) {\n\t\tthis.RequireObjectCoercible(value);\n\t\treturn Object(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-topropertykey\n\tToPropertyKey: function ToPropertyKey(argument) {\n\t\tvar key = this.ToPrimitive(argument, String);\n\t\treturn typeof key === 'symbol' ? key : this.ToString(key);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\tToLength: function ToLength(argument) {\n\t\tvar len = this.ToInteger(argument);\n\t\tif (len <= 0) { return 0; } // includes converting -0 to +0\n\t\tif (len > MAX_SAFE_INTEGER) { return MAX_SAFE_INTEGER; }\n\t\treturn len;\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-canonicalnumericindexstring\n\tCanonicalNumericIndexString: function CanonicalNumericIndexString(argument) {\n\t\tif (toStr.call(argument) !== '[object String]') {\n\t\t\tthrow new TypeError('must be a string');\n\t\t}\n\t\tif (argument === '-0') { return -0; }\n\t\tvar n = this.ToNumber(argument);\n\t\tif (this.SameValue(this.ToString(n), argument)) { return n; }\n\t\treturn void 0;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-requireobjectcoercible\n\tRequireObjectCoercible: ES5.CheckObjectCoercible,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isarray\n\tIsArray: Array.isArray || function IsArray(argument) {\n\t\treturn toStr.call(argument) === '[object Array]';\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-iscallable\n\t// IsCallable: ES5.IsCallable,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isconstructor\n\tIsConstructor: function IsConstructor(argument) {\n\t\treturn typeof argument === 'function' && !!argument.prototype; // unfortunately there's no way to truly check this without try/catch `new argument`\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isextensible-o\n\tIsExtensible: function IsExtensible(obj) {\n\t\tif (!Object.preventExtensions) { return true; }\n\t\tif (isPrimitive(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn Object.isExtensible(obj);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isinteger\n\tIsInteger: function IsInteger(argument) {\n\t\tif (typeof argument !== 'number' || $isNaN(argument) || !$isFinite(argument)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar abs = Math.abs(argument);\n\t\treturn Math.floor(abs) === abs;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ispropertykey\n\tIsPropertyKey: function IsPropertyKey(argument) {\n\t\treturn typeof argument === 'string' || typeof argument === 'symbol';\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-isregexp\n\tIsRegExp: function IsRegExp(argument) {\n\t\tif (!argument || typeof argument !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols) {\n\t\t\tvar isRegExp = argument[Symbol.match];\n\t\t\tif (typeof isRegExp !== 'undefined') {\n\t\t\t\treturn ES5.ToBoolean(isRegExp);\n\t\t\t}\n\t\t}\n\t\treturn hasRegExpMatcher(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevalue\n\t// SameValue: ES5.SameValue,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero\n\tSameValueZero: function SameValueZero(x, y) {\n\t\treturn (x === y) || ($isNaN(x) && $isNaN(y));\n\t},\n\n\t/**\n\t * 7.3.2 GetV (V, P)\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let O be ToObject(V).\n\t * 3. ReturnIfAbrupt(O).\n\t * 4. Return O.[[Get]](P, V).\n\t */\n\tGetV: function GetV(V, P) {\n\t\t// 7.3.2.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.2.2-3\n\t\tvar O = this.ToObject(V);\n\n\t\t// 7.3.2.4\n\t\treturn O[P];\n\t},\n\n\t/**\n\t * 7.3.9 - http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let func be GetV(O, P).\n\t * 3. ReturnIfAbrupt(func).\n\t * 4. If func is either undefined or null, return undefined.\n\t * 5. If IsCallable(func) is false, throw a TypeError exception.\n\t * 6. Return func.\n\t */\n\tGetMethod: function GetMethod(O, P) {\n\t\t// 7.3.9.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.9.2\n\t\tvar func = this.GetV(O, P);\n\n\t\t// 7.3.9.4\n\t\tif (func == null) {\n\t\t\treturn void 0;\n\t\t}\n\n\t\t// 7.3.9.5\n\t\tif (!this.IsCallable(func)) {\n\t\t\tthrow new TypeError(P + 'is not a function');\n\t\t}\n\n\t\t// 7.3.9.6\n\t\treturn func;\n\t},\n\n\t/**\n\t * 7.3.1 Get (O, P) - http://www.ecma-international.org/ecma-262/6.0/#sec-get-o-p\n\t * 1. Assert: Type(O) is Object.\n\t * 2. Assert: IsPropertyKey(P) is true.\n\t * 3. Return O.[[Get]](P, O).\n\t */\n\tGet: function Get(O, P) {\n\t\t// 7.3.1.1\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\t// 7.3.1.2\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\t// 7.3.1.3\n\t\treturn O[P];\n\t},\n\n\tType: function Type(x) {\n\t\tif (typeof x === 'symbol') {\n\t\t\treturn 'Symbol';\n\t\t}\n\t\treturn ES5.Type(x);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-speciesconstructor\n\tSpeciesConstructor: function SpeciesConstructor(O, defaultConstructor) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tvar C = O.constructor;\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.Type(C) !== 'Object') {\n\t\t\tthrow new TypeError('O.constructor is not an Object');\n\t\t}\n\t\tvar S = hasSymbols && Symbol.species ? C[Symbol.species] : void 0;\n\t\tif (S == null) {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.IsConstructor(S)) {\n\t\t\treturn S;\n\t\t}\n\t\tthrow new TypeError('no constructor found');\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-completepropertydescriptor\n\tCompletePropertyDescriptor: function CompletePropertyDescriptor(Desc) {\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (this.IsGenericDescriptor(Desc) || this.IsDataDescriptor(Desc)) {\n\t\t\tif (!has(Desc, '[[Value]]')) {\n\t\t\t\tDesc['[[Value]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Writable]]')) {\n\t\t\t\tDesc['[[Writable]]'] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!has(Desc, '[[Get]]')) {\n\t\t\t\tDesc['[[Get]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Set]]')) {\n\t\t\t\tDesc['[[Set]]'] = void 0;\n\t\t\t}\n\t\t}\n\t\tif (!has(Desc, '[[Enumerable]]')) {\n\t\t\tDesc['[[Enumerable]]'] = false;\n\t\t}\n\t\tif (!has(Desc, '[[Configurable]]')) {\n\t\t\tDesc['[[Configurable]]'] = false;\n\t\t}\n\t\treturn Desc;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-set-o-p-v-throw\n\tSet: function Set(O, P, V, Throw) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\tif (this.Type(Throw) !== 'Boolean') {\n\t\t\tthrow new TypeError('Throw must be a Boolean');\n\t\t}\n\t\tif (Throw) {\n\t\t\tO[P] = V;\n\t\t\treturn true;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tO[P] = V;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-hasownproperty\n\tHasOwnProperty: function HasOwnProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\treturn has(O, P);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-hasproperty\n\tHasProperty: function HasProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\treturn P in O;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-isconcatspreadable\n\tIsConcatSpreadable: function IsConcatSpreadable(O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols && typeof Symbol.isConcatSpreadable === 'symbol') {\n\t\t\tvar spreadable = this.Get(O, Symbol.isConcatSpreadable);\n\t\t\tif (typeof spreadable !== 'undefined') {\n\t\t\t\treturn this.ToBoolean(spreadable);\n\t\t\t}\n\t\t}\n\t\treturn this.IsArray(O);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-invoke\n\tInvoke: function Invoke(O, P) {\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\tvar argumentsList = arraySlice(arguments, 2);\n\t\tvar func = this.GetV(O, P);\n\t\treturn this.Call(func, O, argumentsList);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-createiterresultobject\n\tCreateIterResultObject: function CreateIterResultObject(value, done) {\n\t\tif (this.Type(done) !== 'Boolean') {\n\t\t\tthrow new TypeError('Assertion failed: Type(done) is not Boolean');\n\t\t}\n\t\treturn {\n\t\t\tvalue: value,\n\t\t\tdone: done\n\t\t};\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-regexpexec\n\tRegExpExec: function RegExpExec(R, S) {\n\t\tif (this.Type(R) !== 'Object') {\n\t\t\tthrow new TypeError('R must be an Object');\n\t\t}\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new TypeError('S must be a String');\n\t\t}\n\t\tvar exec = this.Get(R, 'exec');\n\t\tif (this.IsCallable(exec)) {\n\t\t\tvar result = this.Call(exec, R, [S]);\n\t\t\tif (result === null || this.Type(result) === 'Object') {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tthrow new TypeError('\"exec\" method must return `null` or an Object');\n\t\t}\n\t\treturn regexExec(R, S);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-arrayspeciescreate\n\tArraySpeciesCreate: function ArraySpeciesCreate(originalArray, length) {\n\t\tif (!this.IsInteger(length) || length < 0) {\n\t\t\tthrow new TypeError('Assertion failed: length must be an integer >= 0');\n\t\t}\n\t\tvar len = length === 0 ? 0 : length;\n\t\tvar C;\n\t\tvar isArray = this.IsArray(originalArray);\n\t\tif (isArray) {\n\t\t\tC = this.Get(originalArray, 'constructor');\n\t\t\t// TODO: figure out how to make a cross-realm normal Array, a same-realm Array\n\t\t\t// if (this.IsConstructor(C)) {\n\t\t\t// \tif C is another realm's Array, C = undefined\n\t\t\t// \tObject.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(Array))) === null ?\n\t\t\t// }\n\t\t\tif (this.Type(C) === 'Object' && hasSymbols && Symbol.species) {\n\t\t\t\tC = this.Get(C, Symbol.species);\n\t\t\t\tif (C === null) {\n\t\t\t\t\tC = void 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn Array(len);\n\t\t}\n\t\tif (!this.IsConstructor(C)) {\n\t\t\tthrow new TypeError('C must be a constructor');\n\t\t}\n\t\treturn new C(len); // this.Construct(C, len);\n\t},\n\n\tCreateDataProperty: function CreateDataProperty(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar oldDesc = Object.getOwnPropertyDescriptor(O, P);\n\t\tvar extensible = oldDesc || (typeof Object.isExtensible !== 'function' || Object.isExtensible(O));\n\t\tvar immutable = oldDesc && (!oldDesc.writable || !oldDesc.configurable);\n\t\tif (immutable || !extensible) {\n\t\t\treturn false;\n\t\t}\n\t\tvar newDesc = {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: V,\n\t\t\twritable: true\n\t\t};\n\t\tObject.defineProperty(O, P, newDesc);\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-createdatapropertyorthrow\n\tCreateDataPropertyOrThrow: function CreateDataPropertyOrThrow(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar success = this.CreateDataProperty(O, P, V);\n\t\tif (!success) {\n\t\t\tthrow new TypeError('unable to create data property');\n\t\t}\n\t\treturn success;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-advancestringindex\n\tAdvanceStringIndex: function AdvanceStringIndex(S, index, unicode) {\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new TypeError('Assertion failed: Type(S) is not String');\n\t\t}\n\t\tif (!this.IsInteger(index)) {\n\t\t\tthrow new TypeError('Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)');\n\t\t}\n\t\tif (index < 0 || index > MAX_SAFE_INTEGER) {\n\t\t\tthrow new RangeError('Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)');\n\t\t}\n\t\tif (this.Type(unicode) !== 'Boolean') {\n\t\t\tthrow new TypeError('Assertion failed: Type(unicode) is not Boolean');\n\t\t}\n\t\tif (!unicode) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar first = S.charCodeAt(index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar second = S.charCodeAt(index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\t\treturn index + 2;\n\t}\n});\n\ndelete ES6.CheckObjectCoercible; // renamed in ES6 to RequireObjectCoercible\n\nmodule.exports = ES6;\n","'use strict';\n\nvar ES2015 = require('./es2015');\nvar assign = require('./helpers/assign');\n\nvar ES2016 = assign(assign({}, ES2015), {\n\t// https://github.com/tc39/ecma262/pull/60\n\tSameValueNonNumber: function SameValueNonNumber(x, y) {\n\t\tif (typeof x === 'number' || typeof x !== typeof y) {\n\t\t\tthrow new TypeError('SameValueNonNumber requires two non-number values of the same type.');\n\t\t}\n\t\treturn this.SameValue(x, y);\n\t}\n});\n\nmodule.exports = ES2016;\n","'use strict';\n\nmodule.exports = require('./es2016');\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar bound = bind.call(Function.call, getPolyfill());\n\ndefine(bound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = bound;\n"],"sourceRoot":""}